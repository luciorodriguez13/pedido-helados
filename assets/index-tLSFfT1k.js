(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function z0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dm={exports:{}},Ll={},fm={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),$0=Symbol.for("react.portal"),B0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),Q0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),K0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),Gd=Symbol.iterator;function J0(t){return t===null||typeof t!="object"?null:(t=Gd&&t[Gd]||t["@@iterator"],typeof t=="function"?t:null)}var pm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mm=Object.assign,gm={};function oi(t,e,n){this.props=t,this.context=e,this.refs=gm,this.updater=n||pm}oi.prototype.isReactComponent={};oi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ym(){}ym.prototype=oi.prototype;function Ic(t,e,n){this.props=t,this.context=e,this.refs=gm,this.updater=n||pm}var Cc=Ic.prototype=new ym;Cc.constructor=Ic;mm(Cc,oi.prototype);Cc.isPureReactComponent=!0;var Kd=Array.isArray,vm=Object.prototype.hasOwnProperty,Ac={current:null},_m={key:!0,ref:!0,__self:!0,__source:!0};function Em(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)vm.call(e,r)&&!_m.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Po,type:t,key:o,ref:l,props:i,_owner:Ac.current}}function Z0(t,e){return{$$typeof:Po,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Po}function e1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qd=/\/+/g;function Da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e1(""+t.key):e.toString(36)}function Ps(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Po:case $0:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Da(l,0):r,Kd(i)?(n="",t!=null&&(n=t.replace(qd,"$&/")+"/"),Ps(i,e,n,"",function(h){return h})):i!=null&&(xc(i)&&(i=Z0(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(qd,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Kd(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+Da(o,a);l+=Ps(o,e,n,u,i)}else if(u=J0(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+Da(o,a++),l+=Ps(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function ls(t,e,n){if(t==null)return t;var r=[],i=0;return Ps(t,r,"","",function(o){return e.call(n,o,i++)}),r}function t1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var et={current:null},Ns={transition:null},n1={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:Ac};function wm(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ls,forEach:function(t,e,n){ls(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ls(t,function(){e++}),e},toArray:function(t){return ls(t,function(e){return e})||[]},only:function(t){if(!xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=oi;X.Fragment=B0;X.Profiler=W0;X.PureComponent=Ic;X.StrictMode=H0;X.Suspense=q0;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;X.act=wm;X.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mm({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Ac.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)vm.call(e,u)&&!_m.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Po,type:t.type,key:i,ref:o,props:r,_owner:l}};X.createContext=function(t){return t={$$typeof:G0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Q0,_context:t},t.Consumer=t};X.createElement=Em;X.createFactory=function(t){var e=Em.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:K0,render:t}};X.isValidElement=xc;X.lazy=function(t){return{$$typeof:Y0,_payload:{_status:-1,_result:t},_init:t1}};X.memo=function(t,e){return{$$typeof:X0,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=Ns.transition;Ns.transition={};try{t()}finally{Ns.transition=e}};X.unstable_act=wm;X.useCallback=function(t,e){return et.current.useCallback(t,e)};X.useContext=function(t){return et.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return et.current.useDeferredValue(t)};X.useEffect=function(t,e){return et.current.useEffect(t,e)};X.useId=function(){return et.current.useId()};X.useImperativeHandle=function(t,e,n){return et.current.useImperativeHandle(t,e,n)};X.useInsertionEffect=function(t,e){return et.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return et.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return et.current.useMemo(t,e)};X.useReducer=function(t,e,n){return et.current.useReducer(t,e,n)};X.useRef=function(t){return et.current.useRef(t)};X.useState=function(t){return et.current.useState(t)};X.useSyncExternalStore=function(t,e,n){return et.current.useSyncExternalStore(t,e,n)};X.useTransition=function(){return et.current.useTransition()};X.version="18.3.1";fm.exports=X;var L=fm.exports;const r1=z0(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=L,o1=Symbol.for("react.element"),s1=Symbol.for("react.fragment"),l1=Object.prototype.hasOwnProperty,a1=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u1={key:!0,ref:!0,__self:!0,__source:!0};function Tm(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)l1.call(e,r)&&!u1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:o1,type:t,key:o,ref:l,props:i,_owner:a1.current}}Ll.Fragment=s1;Ll.jsx=Tm;Ll.jsxs=Tm;dm.exports=Ll;var D=dm.exports,Sm={exports:{}},pt={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var G=$.length;$.push(Q);e:for(;0<G;){var de=G-1>>>1,re=$[de];if(0<i(re,Q))$[de]=Q,$[G]=re,G=de;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],G=$.pop();if(G!==Q){$[0]=G;e:for(var de=0,re=$.length,Ee=re>>>1;de<Ee;){var Wt=2*(de+1)-1,Qt=$[Wt],Gt=Wt+1,Kt=$[Gt];if(0>i(Qt,G))Gt<re&&0>i(Kt,Qt)?($[de]=Kt,$[Gt]=G,de=Gt):($[de]=Qt,$[Wt]=G,de=Wt);else if(Gt<re&&0>i(Kt,G))$[de]=Kt,$[Gt]=G,de=Gt;else break e}}return Q}function i($,Q){var G=$.sortIndex-Q.sortIndex;return G!==0?G:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],h=[],f=1,m=null,g=3,x=!1,A=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=$)r(h),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(h)}}function V($){if(R=!1,S($),!A)if(n(u)!==null)A=!0,pi(b);else{var Q=n(h);Q!==null&&Ht(V,Q.startTime-$)}}function b($,Q){A=!1,R&&(R=!1,v(y),y=-1),x=!0;var G=g;try{for(S(Q),m=n(u);m!==null&&(!(m.expirationTime>Q)||$&&!C());){var de=m.callback;if(typeof de=="function"){m.callback=null,g=m.priorityLevel;var re=de(m.expirationTime<=Q);Q=t.unstable_now(),typeof re=="function"?m.callback=re:m===n(u)&&r(u),S(Q)}else r(u);m=n(u)}if(m!==null)var Ee=!0;else{var Wt=n(h);Wt!==null&&Ht(V,Wt.startTime-Q),Ee=!1}return Ee}finally{m=null,g=G,x=!1}}var z=!1,w=null,y=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}function P(){if(w!==null){var $=t.unstable_now();T=$;var Q=!0;try{Q=w(!0,$)}finally{Q?I():(z=!1,w=null)}}else z=!1}var I;if(typeof _=="function")I=function(){_(P)};else if(typeof MessageChannel<"u"){var gt=new MessageChannel,Hn=gt.port2;gt.port1.onmessage=P,I=function(){Hn.postMessage(null)}}else I=function(){O(P,0)};function pi($){w=$,z||(z=!0,I())}function Ht($,Q){y=O(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){A||x||(A=!0,pi(b))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var G=g;g=Q;try{return $()}finally{g=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=g;g=$;try{return Q()}finally{g=G}},t.unstable_scheduleCallback=function($,Q,G){var de=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?de+G:de):G=de,$){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=G+re,$={id:f++,callback:Q,priorityLevel:$,startTime:G,expirationTime:re,sortIndex:-1},G>de?($.sortIndex=G,e(h,$),n(u)===null&&$===n(h)&&(R?(v(y),y=-1):R=!0,Ht(V,G-de))):($.sortIndex=re,e(u,$),A||x||(A=!0,pi(b))),$},t.unstable_shouldYield=C,t.unstable_wrapCallback=function($){var Q=g;return function(){var G=g;g=Q;try{return $.apply(this,arguments)}finally{g=G}}}})(Cm);Im.exports=Cm;var c1=Im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1=L,ft=c1;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Am=new Set,ro={};function mr(t,e){Gr(t,e),Gr(t+"Capture",e)}function Gr(t,e){for(ro[t]=e,t=0;t<e.length;t++)Am.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=Object.prototype.hasOwnProperty,d1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xd={},Yd={};function f1(t){return fu.call(Yd,t)?!0:fu.call(Xd,t)?!1:d1.test(t)?Yd[t]=!0:(Xd[t]=!0,!1)}function p1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m1(t,e,n,r){if(e===null||typeof e>"u"||p1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tt(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rc=/[\-:]([a-z])/g;function kc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rc,kc);be[e]=new tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rc,kc);be[e]=new tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rc,kc);be[e]=new tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new tt(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pc(t,e,n,r){var i=be.hasOwnProperty(e)?be[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m1(e,n,i,r)&&(n=null),r||i===null?f1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dn=h1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),xr=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),pu=Symbol.for("react.profiler"),xm=Symbol.for("react.provider"),Rm=Symbol.for("react.context"),Dc=Symbol.for("react.forward_ref"),mu=Symbol.for("react.suspense"),gu=Symbol.for("react.suspense_list"),Vc=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),km=Symbol.for("react.offscreen"),Jd=Symbol.iterator;function Ri(t){return t===null||typeof t!="object"?null:(t=Jd&&t[Jd]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Va;function ji(t){if(Va===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Va=e&&e[1]||""}return`
`+Va+t}var Oa=!1;function La(t,e){if(!t||Oa)return"";Oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,a=o.length-1;1<=l&&0<=a&&i[l]!==o[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==o[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==o[a]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{Oa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ji(t):""}function g1(t){switch(t.tag){case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return t=La(t.type,!1),t;case 11:return t=La(t.type.render,!1),t;case 1:return t=La(t.type,!0),t;default:return""}}function yu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rr:return"Fragment";case xr:return"Portal";case pu:return"Profiler";case Nc:return"StrictMode";case mu:return"Suspense";case gu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rm:return(t.displayName||"Context")+".Consumer";case xm:return(t._context.displayName||"Context")+".Provider";case Dc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vc:return e=t.displayName||null,e!==null?e:yu(t.type)||"Memo";case vn:e=t._payload,t=t._init;try{return yu(t(e))}catch{}}return null}function y1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yu(e);case 8:return e===Nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ln(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v1(t){var e=Pm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function us(t){t._valueTracker||(t._valueTracker=v1(t))}function Nm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ks(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vu(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ln(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dm(t,e){e=e.checked,e!=null&&Pc(t,"checked",e,!1)}function _u(t,e){Dm(t,e);var n=Ln(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Eu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Eu(t,e.type,Ln(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ef(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Eu(t,e,n){(e!=="number"||Ks(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bi=Array.isArray;function br(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ln(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(bi(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ln(n)}}function Vm(t,e){var n=Ln(e.value),r=Ln(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function nf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Om(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Om(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cs,Lm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function io(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_1=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(t){_1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bi[e]=Bi[t]})});function Mm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bi.hasOwnProperty(t)&&Bi[t]?(""+e).trim():e+"px"}function Fm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var E1=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(t,e){if(e){if(E1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Iu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=null;function Oc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Au=null,Ur=null,zr=null;function rf(t){if(t=Vo(t)){if(typeof Au!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Ul(e),Au(t.stateNode,t.type,e))}}function jm(t){Ur?zr?zr.push(t):zr=[t]:Ur=t}function bm(){if(Ur){var t=Ur,e=zr;if(zr=Ur=null,rf(t),e)for(t=0;t<e.length;t++)rf(e[t])}}function Um(t,e){return t(e)}function zm(){}var Ma=!1;function $m(t,e,n){if(Ma)return t(e,n);Ma=!0;try{return Um(t,e,n)}finally{Ma=!1,(Ur!==null||zr!==null)&&(zm(),bm())}}function oo(t,e){var n=t.stateNode;if(n===null)return null;var r=Ul(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var xu=!1;if(sn)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){xu=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{xu=!1}function w1(t,e,n,r,i,o,l,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Hi=!1,qs=null,Xs=!1,Ru=null,T1={onError:function(t){Hi=!0,qs=t}};function S1(t,e,n,r,i,o,l,a,u){Hi=!1,qs=null,w1.apply(T1,arguments)}function I1(t,e,n,r,i,o,l,a,u){if(S1.apply(this,arguments),Hi){if(Hi){var h=qs;Hi=!1,qs=null}else throw Error(F(198));Xs||(Xs=!0,Ru=h)}}function gr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function of(t){if(gr(t)!==t)throw Error(F(188))}function C1(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return of(i),t;if(o===r)return of(i),e;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,a=i.child;a;){if(a===n){l=!0,n=i,r=o;break}if(a===r){l=!0,r=i,n=o;break}a=a.sibling}if(!l){for(a=o.child;a;){if(a===n){l=!0,n=o,r=i;break}if(a===r){l=!0,r=o,n=i;break}a=a.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Hm(t){return t=C1(t),t!==null?Wm(t):null}function Wm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wm(t);if(e!==null)return e;t=t.sibling}return null}var Qm=ft.unstable_scheduleCallback,sf=ft.unstable_cancelCallback,A1=ft.unstable_shouldYield,x1=ft.unstable_requestPaint,we=ft.unstable_now,R1=ft.unstable_getCurrentPriorityLevel,Lc=ft.unstable_ImmediatePriority,Gm=ft.unstable_UserBlockingPriority,Ys=ft.unstable_NormalPriority,k1=ft.unstable_LowPriority,Km=ft.unstable_IdlePriority,Ml=null,bt=null;function P1(t){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:V1,N1=Math.log,D1=Math.LN2;function V1(t){return t>>>=0,t===0?32:31-(N1(t)/D1|0)|0}var hs=64,ds=4194304;function Ui(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Js(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~i;a!==0?r=Ui(a):(o&=l,o!==0&&(r=Ui(o)))}else l=n&~i,l!==0?r=Ui(l):o!==0&&(r=Ui(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nt(e),i=1<<n,r|=t[n],e&=~i;return r}function O1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Nt(o),a=1<<l,u=i[l];u===-1?(!(a&n)||a&r)&&(i[l]=O1(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function ku(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qm(){var t=hs;return hs<<=1,!(hs&4194240)&&(hs=64),t}function Fa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function No(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nt(e),t[e]=n}function M1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Mc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ne=0;function Xm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ym,Fc,Jm,Zm,eg,Pu=!1,fs=[],In=null,Cn=null,An=null,so=new Map,lo=new Map,En=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lf(t,e){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(e.pointerId)}}function Pi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Vo(e),e!==null&&Fc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function j1(t,e,n,r,i){switch(e){case"focusin":return In=Pi(In,t,e,n,r,i),!0;case"dragenter":return Cn=Pi(Cn,t,e,n,r,i),!0;case"mouseover":return An=Pi(An,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return so.set(o,Pi(so.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lo.set(o,Pi(lo.get(o)||null,t,e,n,r,i)),!0}return!1}function tg(t){var e=Jn(t.target);if(e!==null){var n=gr(e);if(n!==null){if(e=n.tag,e===13){if(e=Bm(n),e!==null){t.blockedOn=e,eg(t.priority,function(){Jm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cu=r,n.target.dispatchEvent(r),Cu=null}else return e=Vo(n),e!==null&&Fc(e),t.blockedOn=n,!1;e.shift()}return!0}function af(t,e,n){Ds(t)&&n.delete(e)}function b1(){Pu=!1,In!==null&&Ds(In)&&(In=null),Cn!==null&&Ds(Cn)&&(Cn=null),An!==null&&Ds(An)&&(An=null),so.forEach(af),lo.forEach(af)}function Ni(t,e){t.blockedOn===e&&(t.blockedOn=null,Pu||(Pu=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,b1)))}function ao(t){function e(i){return Ni(i,t)}if(0<fs.length){Ni(fs[0],t);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(In!==null&&Ni(In,t),Cn!==null&&Ni(Cn,t),An!==null&&Ni(An,t),so.forEach(e),lo.forEach(e),n=0;n<En.length;n++)r=En[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)tg(n),n.blockedOn===null&&En.shift()}var $r=dn.ReactCurrentBatchConfig,Zs=!0;function U1(t,e,n,r){var i=ne,o=$r.transition;$r.transition=null;try{ne=1,jc(t,e,n,r)}finally{ne=i,$r.transition=o}}function z1(t,e,n,r){var i=ne,o=$r.transition;$r.transition=null;try{ne=4,jc(t,e,n,r)}finally{ne=i,$r.transition=o}}function jc(t,e,n,r){if(Zs){var i=Nu(t,e,n,r);if(i===null)Ga(t,e,r,el,n),lf(t,r);else if(j1(i,t,e,n,r))r.stopPropagation();else if(lf(t,r),e&4&&-1<F1.indexOf(t)){for(;i!==null;){var o=Vo(i);if(o!==null&&Ym(o),o=Nu(t,e,n,r),o===null&&Ga(t,e,r,el,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ga(t,e,r,null,n)}}var el=null;function Nu(t,e,n,r){if(el=null,t=Oc(r),t=Jn(t),t!==null)if(e=gr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return el=t,null}function ng(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R1()){case Lc:return 1;case Gm:return 4;case Ys:case k1:return 16;case Km:return 536870912;default:return 16}default:return 16}}var Tn=null,bc=null,Vs=null;function rg(){if(Vs)return Vs;var t,e=bc,n=e.length,r,i="value"in Tn?Tn.value:Tn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return Vs=i.slice(t,1<r?1-r:void 0)}function Os(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function uf(){return!1}function mt(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ps:uf,this.isPropagationStopped=uf,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),e}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=mt(si),Do=me({},si,{view:0,detail:0}),$1=mt(Do),ja,ba,Di,Fl=me({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(ja=t.screenX-Di.screenX,ba=t.screenY-Di.screenY):ba=ja=0,Di=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),cf=mt(Fl),B1=me({},Fl,{dataTransfer:0}),H1=mt(B1),W1=me({},Do,{relatedTarget:0}),Ua=mt(W1),Q1=me({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=mt(Q1),K1=me({},si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q1=mt(K1),X1=me({},si,{data:0}),hf=mt(X1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z1[t])?!!e[t]:!1}function zc(){return e_}var t_=me({},Do,{key:function(t){if(t.key){var e=Y1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zc,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n_=mt(t_),r_=me({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),df=mt(r_),i_=me({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zc}),o_=mt(i_),s_=me({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=mt(s_),a_=me({},Fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=mt(a_),c_=[9,13,27,32],$c=sn&&"CompositionEvent"in window,Wi=null;sn&&"documentMode"in document&&(Wi=document.documentMode);var h_=sn&&"TextEvent"in window&&!Wi,ig=sn&&(!$c||Wi&&8<Wi&&11>=Wi),ff=" ",pf=!1;function og(t,e){switch(t){case"keyup":return c_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var kr=!1;function d_(t,e){switch(t){case"compositionend":return sg(e);case"keypress":return e.which!==32?null:(pf=!0,ff);case"textInput":return t=e.data,t===ff&&pf?null:t;default:return null}}function f_(t,e){if(kr)return t==="compositionend"||!$c&&og(t,e)?(t=rg(),Vs=bc=Tn=null,kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ig&&e.locale!=="ko"?null:e.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p_[t.type]:e==="textarea"}function lg(t,e,n,r){jm(r),e=tl(e,"onChange"),0<e.length&&(n=new Uc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qi=null,uo=null;function m_(t){vg(t,0)}function jl(t){var e=Dr(t);if(Nm(e))return t}function g_(t,e){if(t==="change")return e}var ag=!1;if(sn){var za;if(sn){var $a="oninput"in document;if(!$a){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),$a=typeof gf.oninput=="function"}za=$a}else za=!1;ag=za&&(!document.documentMode||9<document.documentMode)}function yf(){Qi&&(Qi.detachEvent("onpropertychange",ug),uo=Qi=null)}function ug(t){if(t.propertyName==="value"&&jl(uo)){var e=[];lg(e,uo,t,Oc(t)),$m(m_,e)}}function y_(t,e,n){t==="focusin"?(yf(),Qi=e,uo=n,Qi.attachEvent("onpropertychange",ug)):t==="focusout"&&yf()}function v_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jl(uo)}function __(t,e){if(t==="click")return jl(e)}function E_(t,e){if(t==="input"||t==="change")return jl(e)}function w_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:w_;function co(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fu.call(e,i)||!Vt(t[i],e[i]))return!1}return!0}function vf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _f(t,e){var n=vf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vf(n)}}function cg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hg(){for(var t=window,e=Ks();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ks(t.document)}return e}function Bc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T_(t){var e=hg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cg(n.ownerDocument.documentElement,n)){if(r!==null&&Bc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_f(n,o);var l=_f(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S_=sn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Du=null,Gi=null,Vu=!1;function Ef(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vu||Pr==null||Pr!==Ks(r)||(r=Pr,"selectionStart"in r&&Bc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gi&&co(Gi,r)||(Gi=r,r=tl(Du,"onSelect"),0<r.length&&(e=new Uc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pr)))}function ms(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nr={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},Ba={},dg={};sn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function bl(t){if(Ba[t])return Ba[t];if(!Nr[t])return t;var e=Nr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dg)return Ba[t]=e[n];return t}var fg=bl("animationend"),pg=bl("animationiteration"),mg=bl("animationstart"),gg=bl("transitionend"),yg=new Map,wf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(t,e){yg.set(t,e),mr(e,[t])}for(var Ha=0;Ha<wf.length;Ha++){var Wa=wf[Ha],I_=Wa.toLowerCase(),C_=Wa[0].toUpperCase()+Wa.slice(1);zn(I_,"on"+C_)}zn(fg,"onAnimationEnd");zn(pg,"onAnimationIteration");zn(mg,"onAnimationStart");zn("dblclick","onDoubleClick");zn("focusin","onFocus");zn("focusout","onBlur");zn(gg,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Tf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,I1(r,e,void 0,t),t.currentTarget=null}function vg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Tf(i,a,h),o=u}else for(l=0;l<r.length;l++){if(a=r[l],u=a.instance,h=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Tf(i,a,h),o=u}}}if(Xs)throw t=Ru,Xs=!1,Ru=null,t}function ae(t,e){var n=e[ju];n===void 0&&(n=e[ju]=new Set);var r=t+"__bubble";n.has(r)||(_g(e,t,2,!1),n.add(r))}function Qa(t,e,n){var r=0;e&&(r|=4),_g(n,t,r,e)}var gs="_reactListening"+Math.random().toString(36).slice(2);function ho(t){if(!t[gs]){t[gs]=!0,Am.forEach(function(n){n!=="selectionchange"&&(A_.has(n)||Qa(n,!1,t),Qa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gs]||(e[gs]=!0,Qa("selectionchange",!1,e))}}function _g(t,e,n,r){switch(ng(e)){case 1:var i=U1;break;case 4:i=z1;break;default:i=jc}n=i.bind(null,e,n,t),i=void 0,!xu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ga(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;a!==null;){if(l=Jn(a),l===null)return;if(u=l.tag,u===5||u===6){r=o=l;continue e}a=a.parentNode}}r=r.return}$m(function(){var h=o,f=Oc(n),m=[];e:{var g=yg.get(t);if(g!==void 0){var x=Uc,A=t;switch(t){case"keypress":if(Os(n)===0)break e;case"keydown":case"keyup":x=n_;break;case"focusin":A="focus",x=Ua;break;case"focusout":A="blur",x=Ua;break;case"beforeblur":case"afterblur":x=Ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=o_;break;case fg:case pg:case mg:x=G1;break;case gg:x=l_;break;case"scroll":x=$1;break;case"wheel":x=u_;break;case"copy":case"cut":case"paste":x=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=df}var R=(e&4)!==0,O=!R&&t==="scroll",v=R?g!==null?g+"Capture":null:g;R=[];for(var _=h,S;_!==null;){S=_;var V=S.stateNode;if(S.tag===5&&V!==null&&(S=V,v!==null&&(V=oo(_,v),V!=null&&R.push(fo(_,V,S)))),O)break;_=_.return}0<R.length&&(g=new x(g,A,null,n,f),m.push({event:g,listeners:R}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Cu&&(A=n.relatedTarget||n.fromElement)&&(Jn(A)||A[ln]))break e;if((x||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,x?(A=n.relatedTarget||n.toElement,x=h,A=A?Jn(A):null,A!==null&&(O=gr(A),A!==O||A.tag!==5&&A.tag!==6)&&(A=null)):(x=null,A=h),x!==A)){if(R=cf,V="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(R=df,V="onPointerLeave",v="onPointerEnter",_="pointer"),O=x==null?g:Dr(x),S=A==null?g:Dr(A),g=new R(V,_+"leave",x,n,f),g.target=O,g.relatedTarget=S,V=null,Jn(f)===h&&(R=new R(v,_+"enter",A,n,f),R.target=S,R.relatedTarget=O,V=R),O=V,x&&A)t:{for(R=x,v=A,_=0,S=R;S;S=Ir(S))_++;for(S=0,V=v;V;V=Ir(V))S++;for(;0<_-S;)R=Ir(R),_--;for(;0<S-_;)v=Ir(v),S--;for(;_--;){if(R===v||v!==null&&R===v.alternate)break t;R=Ir(R),v=Ir(v)}R=null}else R=null;x!==null&&Sf(m,g,x,R,!1),A!==null&&O!==null&&Sf(m,O,A,R,!0)}}e:{if(g=h?Dr(h):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var b=g_;else if(mf(g))if(ag)b=E_;else{b=v_;var z=y_}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=__);if(b&&(b=b(t,h))){lg(m,b,n,f);break e}z&&z(t,g,h),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&Eu(g,"number",g.value)}switch(z=h?Dr(h):window,t){case"focusin":(mf(z)||z.contentEditable==="true")&&(Pr=z,Du=h,Gi=null);break;case"focusout":Gi=Du=Pr=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Ef(m,n,f);break;case"selectionchange":if(S_)break;case"keydown":case"keyup":Ef(m,n,f)}var w;if($c)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else kr?og(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(ig&&n.locale!=="ko"&&(kr||y!=="onCompositionStart"?y==="onCompositionEnd"&&kr&&(w=rg()):(Tn=f,bc="value"in Tn?Tn.value:Tn.textContent,kr=!0)),z=tl(h,y),0<z.length&&(y=new hf(y,t,null,n,f),m.push({event:y,listeners:z}),w?y.data=w:(w=sg(n),w!==null&&(y.data=w)))),(w=h_?d_(t,n):f_(t,n))&&(h=tl(h,"onBeforeInput"),0<h.length&&(f=new hf("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=w))}vg(m,e)})}function fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=oo(t,n),o!=null&&r.unshift(fo(t,o,i)),o=oo(t,e),o!=null&&r.push(fo(t,o,i))),t=t.return}return r}function Ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sf(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var a=n,u=a.alternate,h=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&h!==null&&(a=h,i?(u=oo(n,o),u!=null&&l.unshift(fo(n,u,a))):i||(u=oo(n,o),u!=null&&l.push(fo(n,u,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var x_=/\r\n?/g,R_=/\u0000|\uFFFD/g;function If(t){return(typeof t=="string"?t:""+t).replace(x_,`
`).replace(R_,"")}function ys(t,e,n){if(e=If(e),If(t)!==e&&n)throw Error(F(425))}function nl(){}var Ou=null,Lu=null;function Mu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,k_=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,P_=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(t){return Cf.resolve(null).then(t).catch(N_)}:Fu;function N_(t){setTimeout(function(){throw t})}function Ka(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ao(e)}function xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Af(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var li=Math.random().toString(36).slice(2),jt="__reactFiber$"+li,po="__reactProps$"+li,ln="__reactContainer$"+li,ju="__reactEvents$"+li,D_="__reactListeners$"+li,V_="__reactHandles$"+li;function Jn(t){var e=t[jt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[jt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Af(t);t!==null;){if(n=t[jt])return n;t=Af(t)}return e}t=n,n=t.parentNode}return null}function Vo(t){return t=t[jt]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Dr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Ul(t){return t[po]||null}var bu=[],Vr=-1;function $n(t){return{current:t}}function ue(t){0>Vr||(t.current=bu[Vr],bu[Vr]=null,Vr--)}function oe(t,e){Vr++,bu[Vr]=t.current,t.current=e}var Mn={},qe=$n(Mn),ot=$n(!1),sr=Mn;function Kr(t,e){var n=t.type.contextTypes;if(!n)return Mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function st(t){return t=t.childContextTypes,t!=null}function rl(){ue(ot),ue(qe)}function xf(t,e,n){if(qe.current!==Mn)throw Error(F(168));oe(qe,e),oe(ot,n)}function Eg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,y1(t)||"Unknown",i));return me({},n,r)}function il(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,sr=qe.current,oe(qe,t),oe(ot,ot.current),!0}function Rf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Eg(t,e,sr),r.__reactInternalMemoizedMergedChildContext=t,ue(ot),ue(qe),oe(qe,t)):ue(ot),oe(ot,n)}var Jt=null,zl=!1,qa=!1;function wg(t){Jt===null?Jt=[t]:Jt.push(t)}function O_(t){zl=!0,wg(t)}function Bn(){if(!qa&&Jt!==null){qa=!0;var t=0,e=ne;try{var n=Jt;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jt=null,zl=!1}catch(i){throw Jt!==null&&(Jt=Jt.slice(t+1)),Qm(Lc,Bn),i}finally{ne=e,qa=!1}}return null}var Or=[],Lr=0,ol=null,sl=0,yt=[],vt=0,lr=null,Zt=1,en="";function qn(t,e){Or[Lr++]=sl,Or[Lr++]=ol,ol=t,sl=e}function Tg(t,e,n){yt[vt++]=Zt,yt[vt++]=en,yt[vt++]=lr,lr=t;var r=Zt;t=en;var i=32-Nt(r)-1;r&=~(1<<i),n+=1;var o=32-Nt(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Zt=1<<32-Nt(e)+i|n<<i|r,en=o+t}else Zt=1<<o|n<<i|r,en=t}function Hc(t){t.return!==null&&(qn(t,1),Tg(t,1,0))}function Wc(t){for(;t===ol;)ol=Or[--Lr],Or[Lr]=null,sl=Or[--Lr],Or[Lr]=null;for(;t===lr;)lr=yt[--vt],yt[vt]=null,en=yt[--vt],yt[vt]=null,Zt=yt[--vt],yt[vt]=null}var dt=null,ht=null,he=!1,xt=null;function Sg(t,e){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function kf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ht=xn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=lr!==null?{id:Zt,overflow:en}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dt=t,ht=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(he){var e=ht;if(e){var n=e;if(!kf(t,e)){if(Uu(t))throw Error(F(418));e=xn(n.nextSibling);var r=dt;e&&kf(t,e)?Sg(r,n):(t.flags=t.flags&-4097|2,he=!1,dt=t)}}else{if(Uu(t))throw Error(F(418));t.flags=t.flags&-4097|2,he=!1,dt=t}}}function Pf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function vs(t){if(t!==dt)return!1;if(!he)return Pf(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mu(t.type,t.memoizedProps)),e&&(e=ht)){if(Uu(t))throw Ig(),Error(F(418));for(;e;)Sg(t,e),e=xn(e.nextSibling)}if(Pf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ht=xn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=dt?xn(t.stateNode.nextSibling):null;return!0}function Ig(){for(var t=ht;t;)t=xn(t.nextSibling)}function qr(){ht=dt=null,he=!1}function Qc(t){xt===null?xt=[t]:xt.push(t)}var L_=dn.ReactCurrentBatchConfig;function Vi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var a=i.refs;l===null?delete a[o]:a[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function _s(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nf(t){var e=t._init;return e(t._payload)}function Cg(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Nn(v,_),v.index=0,v.sibling=null,v}function o(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=2,_):S):(v.flags|=2,_)):(v.flags|=1048576,_)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,S,V){return _===null||_.tag!==6?(_=nu(S,v.mode,V),_.return=v,_):(_=i(_,S),_.return=v,_)}function u(v,_,S,V){var b=S.type;return b===Rr?f(v,_,S.props.children,V,S.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vn&&Nf(b)===_.type)?(V=i(_,S.props),V.ref=Vi(v,_,S),V.return=v,V):(V=zs(S.type,S.key,S.props,null,v.mode,V),V.ref=Vi(v,_,S),V.return=v,V)}function h(v,_,S,V){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=ru(S,v.mode,V),_.return=v,_):(_=i(_,S.children||[]),_.return=v,_)}function f(v,_,S,V,b){return _===null||_.tag!==7?(_=rr(S,v.mode,V,b),_.return=v,_):(_=i(_,S),_.return=v,_)}function m(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=nu(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case as:return S=zs(_.type,_.key,_.props,null,v.mode,S),S.ref=Vi(v,null,_),S.return=v,S;case xr:return _=ru(_,v.mode,S),_.return=v,_;case vn:var V=_._init;return m(v,V(_._payload),S)}if(bi(_)||Ri(_))return _=rr(_,v.mode,S,null),_.return=v,_;_s(v,_)}return null}function g(v,_,S,V){var b=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:a(v,_,""+S,V);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case as:return S.key===b?u(v,_,S,V):null;case xr:return S.key===b?h(v,_,S,V):null;case vn:return b=S._init,g(v,_,b(S._payload),V)}if(bi(S)||Ri(S))return b!==null?null:f(v,_,S,V,null);_s(v,S)}return null}function x(v,_,S,V,b){if(typeof V=="string"&&V!==""||typeof V=="number")return v=v.get(S)||null,a(_,v,""+V,b);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case as:return v=v.get(V.key===null?S:V.key)||null,u(_,v,V,b);case xr:return v=v.get(V.key===null?S:V.key)||null,h(_,v,V,b);case vn:var z=V._init;return x(v,_,S,z(V._payload),b)}if(bi(V)||Ri(V))return v=v.get(S)||null,f(_,v,V,b,null);_s(_,V)}return null}function A(v,_,S,V){for(var b=null,z=null,w=_,y=_=0,E=null;w!==null&&y<S.length;y++){w.index>y?(E=w,w=null):E=w.sibling;var T=g(v,w,S[y],V);if(T===null){w===null&&(w=E);break}t&&w&&T.alternate===null&&e(v,w),_=o(T,_,y),z===null?b=T:z.sibling=T,z=T,w=E}if(y===S.length)return n(v,w),he&&qn(v,y),b;if(w===null){for(;y<S.length;y++)w=m(v,S[y],V),w!==null&&(_=o(w,_,y),z===null?b=w:z.sibling=w,z=w);return he&&qn(v,y),b}for(w=r(v,w);y<S.length;y++)E=x(w,v,y,S[y],V),E!==null&&(t&&E.alternate!==null&&w.delete(E.key===null?y:E.key),_=o(E,_,y),z===null?b=E:z.sibling=E,z=E);return t&&w.forEach(function(C){return e(v,C)}),he&&qn(v,y),b}function R(v,_,S,V){var b=Ri(S);if(typeof b!="function")throw Error(F(150));if(S=b.call(S),S==null)throw Error(F(151));for(var z=b=null,w=_,y=_=0,E=null,T=S.next();w!==null&&!T.done;y++,T=S.next()){w.index>y?(E=w,w=null):E=w.sibling;var C=g(v,w,T.value,V);if(C===null){w===null&&(w=E);break}t&&w&&C.alternate===null&&e(v,w),_=o(C,_,y),z===null?b=C:z.sibling=C,z=C,w=E}if(T.done)return n(v,w),he&&qn(v,y),b;if(w===null){for(;!T.done;y++,T=S.next())T=m(v,T.value,V),T!==null&&(_=o(T,_,y),z===null?b=T:z.sibling=T,z=T);return he&&qn(v,y),b}for(w=r(v,w);!T.done;y++,T=S.next())T=x(w,v,y,T.value,V),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?y:T.key),_=o(T,_,y),z===null?b=T:z.sibling=T,z=T);return t&&w.forEach(function(P){return e(v,P)}),he&&qn(v,y),b}function O(v,_,S,V){if(typeof S=="object"&&S!==null&&S.type===Rr&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case as:e:{for(var b=S.key,z=_;z!==null;){if(z.key===b){if(b=S.type,b===Rr){if(z.tag===7){n(v,z.sibling),_=i(z,S.props.children),_.return=v,v=_;break e}}else if(z.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vn&&Nf(b)===z.type){n(v,z.sibling),_=i(z,S.props),_.ref=Vi(v,z,S),_.return=v,v=_;break e}n(v,z);break}else e(v,z);z=z.sibling}S.type===Rr?(_=rr(S.props.children,v.mode,V,S.key),_.return=v,v=_):(V=zs(S.type,S.key,S.props,null,v.mode,V),V.ref=Vi(v,_,S),V.return=v,v=V)}return l(v);case xr:e:{for(z=S.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),_=i(_,S.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=ru(S,v.mode,V),_.return=v,v=_}return l(v);case vn:return z=S._init,O(v,_,z(S._payload),V)}if(bi(S))return A(v,_,S,V);if(Ri(S))return R(v,_,S,V);_s(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,S),_.return=v,v=_):(n(v,_),_=nu(S,v.mode,V),_.return=v,v=_),l(v)):n(v,_)}return O}var Xr=Cg(!0),Ag=Cg(!1),ll=$n(null),al=null,Mr=null,Gc=null;function Kc(){Gc=Mr=al=null}function qc(t){var e=ll.current;ue(ll),t._currentValue=e}function $u(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Br(t,e){al=t,Gc=Mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function wt(t){var e=t._currentValue;if(Gc!==t)if(t={context:t,memoizedValue:e,next:null},Mr===null){if(al===null)throw Error(F(308));Mr=t,al.dependencies={lanes:0,firstContext:t}}else Mr=Mr.next=t;return e}var Zn=null;function Xc(t){Zn===null?Zn=[t]:Zn.push(t)}function xg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xc(e)):(n.next=i.next,i.next=n),e.interleaved=n,an(t,r)}function an(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,an(t,n)}return i=r.interleaved,i===null?(e.next=e,Xc(r)):(e.next=i.next,i.next=e),r.interleaved=e,an(t,n)}function Ls(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mc(t,n)}}function Df(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ul(t,e,n,r){var i=t.updateQueue;_n=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,h=u.next;u.next=null,l===null?o=h:l.next=h,l=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==l&&(a===null?f.firstBaseUpdate=h:a.next=h,f.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;l=0,f=h=u=null,a=o;do{var g=a.lane,x=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,R=a;switch(g=e,x=n,R.tag){case 1:if(A=R.payload,typeof A=="function"){m=A.call(x,m,g);break e}m=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,g=typeof A=="function"?A.call(x,m,g):A,g==null)break e;m=me({},m,g);break e;case 2:_n=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else x={eventTime:x,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(h=f=x,u=m):f=f.next=x,l|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ur|=l,t.lanes=l,t.memoizedState=m}}function Vf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Oo={},Ut=$n(Oo),mo=$n(Oo),go=$n(Oo);function er(t){if(t===Oo)throw Error(F(174));return t}function Jc(t,e){switch(oe(go,e),oe(mo,t),oe(Ut,Oo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tu(e,t)}ue(Ut),oe(Ut,e)}function Yr(){ue(Ut),ue(mo),ue(go)}function kg(t){er(go.current);var e=er(Ut.current),n=Tu(e,t.type);e!==n&&(oe(mo,t),oe(Ut,n))}function Zc(t){mo.current===t&&(ue(Ut),ue(mo))}var fe=$n(0);function cl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xa=[];function eh(){for(var t=0;t<Xa.length;t++)Xa[t]._workInProgressVersionPrimary=null;Xa.length=0}var Ms=dn.ReactCurrentDispatcher,Ya=dn.ReactCurrentBatchConfig,ar=0,pe=null,Ie=null,Re=null,hl=!1,Ki=!1,yo=0,M_=0;function Be(){throw Error(F(321))}function th(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function nh(t,e,n,r,i,o){if(ar=o,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ms.current=t===null||t.memoizedState===null?U_:z_,t=n(r,i),Ki){o=0;do{if(Ki=!1,yo=0,25<=o)throw Error(F(301));o+=1,Re=Ie=null,e.updateQueue=null,Ms.current=$_,t=n(r,i)}while(Ki)}if(Ms.current=dl,e=Ie!==null&&Ie.next!==null,ar=0,Re=Ie=pe=null,hl=!1,e)throw Error(F(300));return t}function rh(){var t=yo!==0;return yo=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?pe.memoizedState=Re=t:Re=Re.next=t,Re}function Tt(){if(Ie===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Re===null?pe.memoizedState:Re.next;if(e!==null)Re=e,Ie=t;else{if(t===null)throw Error(F(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Re===null?pe.memoizedState=Re=t:Re=Re.next=t}return Re}function vo(t,e){return typeof e=="function"?e(t):e}function Ja(t){var e=Tt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Ie,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=l=null,u=null,h=o;do{var f=h.lane;if((ar&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=m,l=r):u=u.next=m,pe.lanes|=f,ur|=f}h=h.next}while(h!==null&&h!==o);u===null?l=r:u.next=a,Vt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,pe.lanes|=o,ur|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Za(t){var e=Tt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Vt(o,e.memoizedState)||(it=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Pg(){}function Ng(t,e){var n=pe,r=Tt(),i=e(),o=!Vt(r.memoizedState,i);if(o&&(r.memoizedState=i,it=!0),r=r.queue,ih(Og.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Re!==null&&Re.memoizedState.tag&1){if(n.flags|=2048,_o(9,Vg.bind(null,n,r,i,e),void 0,null),Pe===null)throw Error(F(349));ar&30||Dg(n,e,i)}return i}function Dg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vg(t,e,n,r){e.value=n,e.getSnapshot=r,Lg(e)&&Mg(t)}function Og(t,e,n){return n(function(){Lg(e)&&Mg(t)})}function Lg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function Mg(t){var e=an(t,1);e!==null&&Dt(e,t,1,-1)}function Of(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:t},e.queue=t,t=t.dispatch=b_.bind(null,pe,t),[e.memoizedState,t]}function _o(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fg(){return Tt().memoizedState}function Fs(t,e,n,r){var i=Mt();pe.flags|=t,i.memoizedState=_o(1|e,n,void 0,r===void 0?null:r)}function $l(t,e,n,r){var i=Tt();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var l=Ie.memoizedState;if(o=l.destroy,r!==null&&th(r,l.deps)){i.memoizedState=_o(e,n,o,r);return}}pe.flags|=t,i.memoizedState=_o(1|e,n,o,r)}function Lf(t,e){return Fs(8390656,8,t,e)}function ih(t,e){return $l(2048,8,t,e)}function jg(t,e){return $l(4,2,t,e)}function bg(t,e){return $l(4,4,t,e)}function Ug(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zg(t,e,n){return n=n!=null?n.concat([t]):null,$l(4,4,Ug.bind(null,e,t),n)}function oh(){}function $g(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&th(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bg(t,e){var n=Tt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&th(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hg(t,e,n){return ar&21?(Vt(n,e)||(n=qm(),pe.lanes|=n,ur|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function F_(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=Ya.transition;Ya.transition={};try{t(!1),e()}finally{ne=n,Ya.transition=r}}function Wg(){return Tt().memoizedState}function j_(t,e,n){var r=Pn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qg(t))Gg(e,n);else if(n=xg(t,e,n,r),n!==null){var i=Ze();Dt(n,t,r,i),Kg(n,e,r)}}function b_(t,e,n){var r=Pn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qg(t))Gg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,a=o(l,n);if(i.hasEagerState=!0,i.eagerState=a,Vt(a,l)){var u=e.interleaved;u===null?(i.next=i,Xc(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=xg(t,e,i,r),n!==null&&(i=Ze(),Dt(n,t,r,i),Kg(n,e,r))}}function Qg(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Gg(t,e){Ki=hl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Kg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mc(t,n)}}var dl={readContext:wt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},U_={readContext:wt,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:Lf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fs(4194308,4,Ug.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fs(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j_.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:Of,useDebugValue:oh,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=Of(!1),e=t[0];return t=F_.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,i=Mt();if(he){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Pe===null)throw Error(F(349));ar&30||Dg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Lf(Og.bind(null,r,o,t),[t]),r.flags|=2048,_o(9,Vg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Mt(),e=Pe.identifierPrefix;if(he){var n=en,r=Zt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},z_={readContext:wt,useCallback:$g,useContext:wt,useEffect:ih,useImperativeHandle:zg,useInsertionEffect:jg,useLayoutEffect:bg,useMemo:Bg,useReducer:Ja,useRef:Fg,useState:function(){return Ja(vo)},useDebugValue:oh,useDeferredValue:function(t){var e=Tt();return Hg(e,Ie.memoizedState,t)},useTransition:function(){var t=Ja(vo)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Pg,useSyncExternalStore:Ng,useId:Wg,unstable_isNewReconciler:!1},$_={readContext:wt,useCallback:$g,useContext:wt,useEffect:ih,useImperativeHandle:zg,useInsertionEffect:jg,useLayoutEffect:bg,useMemo:Bg,useReducer:Za,useRef:Fg,useState:function(){return Za(vo)},useDebugValue:oh,useDeferredValue:function(t){var e=Tt();return Ie===null?e.memoizedState=t:Hg(e,Ie.memoizedState,t)},useTransition:function(){var t=Za(vo)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Pg,useSyncExternalStore:Ng,useId:Wg,unstable_isNewReconciler:!1};function Ct(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bl={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=Pn(t),o=tn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rn(t,o,i),e!==null&&(Dt(e,t,i,r),Ls(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ze(),i=Pn(t),o=tn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rn(t,o,i),e!==null&&(Dt(e,t,i,r),Ls(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ze(),r=Pn(t),i=tn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rn(t,i,r),e!==null&&(Dt(e,t,r,n),Ls(e,t,r))}};function Mf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!co(n,r)||!co(i,o):!0}function qg(t,e,n){var r=!1,i=Mn,o=e.contextType;return typeof o=="object"&&o!==null?o=wt(o):(i=st(e)?sr:qe.current,r=e.contextTypes,o=(r=r!=null)?Kr(t,i):Mn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ff(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bl.enqueueReplaceState(e,e.state,null)}function Hu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Yc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=wt(o):(o=st(e)?sr:qe.current,i.context=Kr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Bu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bl.enqueueReplaceState(i,i.state,null),ul(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,e){try{var n="",r=e;do n+=g1(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function eu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var B_=typeof WeakMap=="function"?WeakMap:Map;function Xg(t,e,n){n=tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pl||(pl=!0,tc=r),Wu(t,e)},n}function Yg(t,e,n){n=tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wu(t,e),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function jf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new B_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rE.bind(null,t,e,n),e.then(t,t))}function bf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tn(-1,1),e.tag=2,Rn(n,e,1))),n.lanes|=1),t)}var H_=dn.ReactCurrentOwner,it=!1;function Je(t,e,n,r){e.child=t===null?Ag(e,null,n,r):Xr(e,t.child,n,r)}function zf(t,e,n,r,i){n=n.render;var o=e.ref;return Br(e,i),r=nh(t,e,n,r,o,i),n=rh(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,un(t,e,i)):(he&&n&&Hc(e),e.flags|=1,Je(t,e,r,i),e.child)}function $f(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!fh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Jg(t,e,o,r,i)):(t=zs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(l,r)&&t.ref===e.ref)return un(t,e,i)}return e.flags|=1,t=Nn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Jg(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(co(o,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,un(t,e,i)}return Qu(t,e,n,r,i)}function Zg(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(jr,ct),ct|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(jr,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,oe(jr,ct),ct|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,oe(jr,ct),ct|=r;return Je(t,e,i,n),e.child}function ey(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qu(t,e,n,r,i){var o=st(n)?sr:qe.current;return o=Kr(e,o),Br(e,i),n=nh(t,e,n,r,o,i),r=rh(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,un(t,e,i)):(he&&r&&Hc(e),e.flags|=1,Je(t,e,n,i),e.child)}function Bf(t,e,n,r,i){if(st(n)){var o=!0;il(e)}else o=!1;if(Br(e,i),e.stateNode===null)js(t,e),qg(e,n,r),Hu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=wt(h):(h=st(n)?sr:qe.current,h=Kr(e,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||u!==h)&&Ff(e,l,r,h),_n=!1;var g=e.memoizedState;l.state=g,ul(e,r,l,i),u=e.memoizedState,a!==r||g!==u||ot.current||_n?(typeof f=="function"&&(Bu(e,n,f,r),u=e.memoizedState),(a=_n||Mf(e,n,a,r,g,u,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=h,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Rg(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Ct(e.type,a),l.props=h,m=e.pendingProps,g=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=wt(u):(u=st(n)?sr:qe.current,u=Kr(e,u));var x=n.getDerivedStateFromProps;(f=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==m||g!==u)&&Ff(e,l,r,u),_n=!1,g=e.memoizedState,l.state=g,ul(e,r,l,i);var A=e.memoizedState;a!==m||g!==A||ot.current||_n?(typeof x=="function"&&(Bu(e,n,x,r),A=e.memoizedState),(h=_n||Mf(e,n,h,r,g,A,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,A,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,A,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),l.props=r,l.state=A,l.context=u,r=h):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Gu(t,e,n,r,o,i)}function Gu(t,e,n,r,i,o){ey(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Rf(e,n,!1),un(t,e,o);r=e.stateNode,H_.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Xr(e,t.child,null,o),e.child=Xr(e,null,a,o)):Je(t,e,a,o),e.memoizedState=r.state,i&&Rf(e,n,!0),e.child}function ty(t){var e=t.stateNode;e.pendingContext?xf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xf(t,e.context,!1),Jc(t,e.containerInfo)}function Hf(t,e,n,r,i){return qr(),Qc(i),e.flags|=256,Je(t,e,n,r),e.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function qu(t){return{baseLanes:t,cachePool:null,transitions:null}}function ny(t,e,n){var r=e.pendingProps,i=fe.current,o=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(fe,i&1),t===null)return zu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Ql(l,r,0,null),t=rr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=qu(n),e.memoizedState=Ku,t):sh(e,l));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return W_(t,e,l,r,a,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Nn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Nn(a,o):(o=rr(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?qu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Ku,r}return o=t.child,t=o.sibling,r=Nn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sh(t,e){return e=Ql({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Es(t,e,n,r){return r!==null&&Qc(r),Xr(e,t.child,null,n),t=sh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W_(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=eu(Error(F(422))),Es(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ql({mode:"visible",children:r.children},i,0,null),o=rr(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Xr(e,t.child,null,l),e.child.memoizedState=qu(l),e.memoizedState=Ku,o);if(!(e.mode&1))return Es(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=eu(o,r,void 0),Es(t,e,l,r)}if(a=(l&t.childLanes)!==0,it||a){if(r=Pe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,an(t,i),Dt(r,t,i,-1))}return dh(),r=eu(Error(F(421))),Es(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iE.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ht=xn(i.nextSibling),dt=e,he=!0,xt=null,t!==null&&(yt[vt++]=Zt,yt[vt++]=en,yt[vt++]=lr,Zt=t.id,en=t.overflow,lr=e),e=sh(e,r.children),e.flags|=4096,e)}function Wf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$u(t.return,e,n)}function tu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ry(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Je(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wf(t,n,e);else if(t.tag===19)Wf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),tu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}tu(e,!0,n,null,o);break;case"together":tu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ur|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Nn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q_(t,e,n){switch(e.tag){case 3:ty(e),qr();break;case 5:kg(e);break;case 1:st(e.type)&&il(e);break;case 4:Jc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;oe(ll,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?ny(t,e,n):(oe(fe,fe.current&1),t=un(t,e,n),t!==null?t.sibling:null);oe(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ry(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Zg(t,e,n)}return un(t,e,n)}var iy,Xu,oy,sy;iy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xu=function(){};oy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,er(Ut.current);var o=null;switch(n){case"input":i=vu(t,i),r=vu(t,r),o=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),o=[];break;case"textarea":i=wu(t,i),r=wu(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=nl)}Su(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ro.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ro.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ae("scroll",t),o||a===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};sy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oi(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function He(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G_(t,e,n){var r=e.pendingProps;switch(Wc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(e),null;case 1:return st(e.type)&&rl(),He(e),null;case 3:return r=e.stateNode,Yr(),ue(ot),ue(qe),eh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(ic(xt),xt=null))),Xu(t,e),He(e),null;case 5:Zc(e);var i=er(go.current);if(n=e.type,t!==null&&e.stateNode!=null)oy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return He(e),null}if(t=er(Ut.current),vs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[jt]=e,r[po]=o,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<zi.length;i++)ae(zi[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Zd(r,o),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ae("invalid",r);break;case"textarea":tf(r,o),ae("invalid",r)}Su(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var a=o[l];l==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ys(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ys(r.textContent,a,t),i=["children",""+a]):ro.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ae("scroll",r)}switch(n){case"input":us(r),ef(r,o,!0);break;case"textarea":us(r),nf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=nl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Om(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[jt]=e,t[po]=r,iy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Iu(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<zi.length;i++)ae(zi[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":Zd(t,r),i=vu(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ae("invalid",t);break;case"textarea":tf(t,r),i=wu(t,r),ae("invalid",t);break;default:i=r}Su(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?Fm(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Lm(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&io(t,u):typeof u=="number"&&io(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ro.hasOwnProperty(o)?u!=null&&o==="onScroll"&&ae("scroll",t):u!=null&&Pc(t,o,u,l))}switch(n){case"input":us(t),ef(t,r,!1);break;case"textarea":us(t),nf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ln(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?br(t,!!r.multiple,o,!1):r.defaultValue!=null&&br(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return He(e),null;case 6:if(t&&e.stateNode!=null)sy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=er(go.current),er(Ut.current),vs(e)){if(r=e.stateNode,n=e.memoizedProps,r[jt]=e,(o=r.nodeValue!==n)&&(t=dt,t!==null))switch(t.tag){case 3:ys(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jt]=e,e.stateNode=r}return He(e),null;case 13:if(ue(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&ht!==null&&e.mode&1&&!(e.flags&128))Ig(),qr(),e.flags|=98560,o=!1;else if(o=vs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[jt]=e}else qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;He(e),o=!1}else xt!==null&&(ic(xt),xt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ce===0&&(Ce=3):dh())),e.updateQueue!==null&&(e.flags|=4),He(e),null);case 4:return Yr(),Xu(t,e),t===null&&ho(e.stateNode.containerInfo),He(e),null;case 10:return qc(e.type._context),He(e),null;case 17:return st(e.type)&&rl(),He(e),null;case 19:if(ue(fe),o=e.memoizedState,o===null)return He(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)Oi(o,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=cl(t),l!==null){for(e.flags|=128,Oi(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(fe,fe.current&1|2),e.child}t=t.sibling}o.tail!==null&&we()>Zr&&(e.flags|=128,r=!0,Oi(o,!1),e.lanes=4194304)}else{if(!r)if(t=cl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!he)return He(e),null}else 2*we()-o.renderingStartTime>Zr&&n!==1073741824&&(e.flags|=128,r=!0,Oi(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=we(),e.sibling=null,n=fe.current,oe(fe,r?n&1|2:n&1),e):(He(e),null);case 22:case 23:return hh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ct&1073741824&&(He(e),e.subtreeFlags&6&&(e.flags|=8192)):He(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function K_(t,e){switch(Wc(e),e.tag){case 1:return st(e.type)&&rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yr(),ue(ot),ue(qe),eh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zc(e),null;case 13:if(ue(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(fe),null;case 4:return Yr(),null;case 10:return qc(e.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var ws=!1,Ge=!1,q_=typeof WeakSet=="function"?WeakSet:Set,B=null;function Fr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function Yu(t,e,n){try{n()}catch(r){ye(t,e,r)}}var Qf=!1;function X_(t,e){if(Ou=Zs,t=hg(),Bc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,a=-1,u=-1,h=0,f=0,m=t,g=null;t:for(;;){for(var x;m!==n||i!==0&&m.nodeType!==3||(a=l+i),m!==o||r!==0&&m.nodeType!==3||(u=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++h===i&&(a=l),g===o&&++f===r&&(u=l),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lu={focusedElem:t,selectionRange:n},Zs=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,O=A.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?R:Ct(e.type,R),O);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(V){ye(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return A=Qf,Qf=!1,A}function qi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Yu(e,n,o)}i=i.next}while(i!==r)}}function Hl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ju(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ly(t){var e=t.alternate;e!==null&&(t.alternate=null,ly(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jt],delete e[po],delete e[ju],delete e[D_],delete e[V_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ay(t){return t.tag===5||t.tag===3||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nl));else if(r!==4&&(t=t.child,t!==null))for(Zu(t,e,n),t=t.sibling;t!==null;)Zu(t,e,n),t=t.sibling}function ec(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ec(t,e,n),t=t.sibling;t!==null;)ec(t,e,n),t=t.sibling}var Ve=null,At=!1;function yn(t,e,n){for(n=n.child;n!==null;)uy(t,e,n),n=n.sibling}function uy(t,e,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ml,n)}catch{}switch(n.tag){case 5:Ge||Fr(n,e);case 6:var r=Ve,i=At;Ve=null,yn(t,e,n),Ve=r,At=i,Ve!==null&&(At?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(At?(t=Ve,n=n.stateNode,t.nodeType===8?Ka(t.parentNode,n):t.nodeType===1&&Ka(t,n),ao(t)):Ka(Ve,n.stateNode));break;case 4:r=Ve,i=At,Ve=n.stateNode.containerInfo,At=!0,yn(t,e,n),Ve=r,At=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Yu(n,e,l),i=i.next}while(i!==r)}yn(t,e,n);break;case 1:if(!Ge&&(Fr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}yn(t,e,n);break;case 21:yn(t,e,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,yn(t,e,n),Ge=r):yn(t,e,n);break;default:yn(t,e,n)}}function Kf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q_),e.forEach(function(r){var i=oE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,At=!1;break e;case 3:Ve=a.stateNode.containerInfo,At=!0;break e;case 4:Ve=a.stateNode.containerInfo,At=!0;break e}a=a.return}if(Ve===null)throw Error(F(160));uy(o,l,i),Ve=null,At=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){ye(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cy(e,t),e=e.sibling}function cy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Lt(t),r&4){try{qi(3,t,t.return),Hl(3,t)}catch(R){ye(t,t.return,R)}try{qi(5,t,t.return)}catch(R){ye(t,t.return,R)}}break;case 1:It(e,t),Lt(t),r&512&&n!==null&&Fr(n,n.return);break;case 5:if(It(e,t),Lt(t),r&512&&n!==null&&Fr(n,n.return),t.flags&32){var i=t.stateNode;try{io(i,"")}catch(R){ye(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Dm(i,o),Iu(a,l);var h=Iu(a,o);for(l=0;l<u.length;l+=2){var f=u[l],m=u[l+1];f==="style"?Fm(i,m):f==="dangerouslySetInnerHTML"?Lm(i,m):f==="children"?io(i,m):Pc(i,f,m,h)}switch(a){case"input":_u(i,o);break;case"textarea":Vm(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?br(i,!!o.multiple,x,!1):g!==!!o.multiple&&(o.defaultValue!=null?br(i,!!o.multiple,o.defaultValue,!0):br(i,!!o.multiple,o.multiple?[]:"",!1))}i[po]=o}catch(R){ye(t,t.return,R)}}break;case 6:if(It(e,t),Lt(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(R){ye(t,t.return,R)}}break;case 3:if(It(e,t),Lt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(e.containerInfo)}catch(R){ye(t,t.return,R)}break;case 4:It(e,t),Lt(t);break;case 13:It(e,t),Lt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(uh=we())),r&4&&Kf(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Ge=(h=Ge)||f,It(e,t),Ge=h):It(e,t),Lt(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(B=t,f=t.child;f!==null;){for(m=B=f;B!==null;){switch(g=B,x=g.child,g.tag){case 0:case 11:case 14:case 15:qi(4,g,g.return);break;case 1:Fr(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(R){ye(r,n,R)}}break;case 5:Fr(g,g.return);break;case 22:if(g.memoizedState!==null){Xf(m);continue}}x!==null?(x.return=g,B=x):Xf(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=m.stateNode,u=m.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Mm("display",l))}catch(R){ye(t,t.return,R)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(R){ye(t,t.return,R)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:It(e,t),Lt(t),r&4&&Kf(t);break;case 21:break;default:It(e,t),Lt(t)}}function Lt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ay(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(io(i,""),r.flags&=-33);var o=Gf(t);ec(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,a=Gf(t);Zu(t,a,l);break;default:throw Error(F(161))}}catch(u){ye(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y_(t,e,n){B=t,hy(t)}function hy(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||ws;if(!l){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ge;a=ws;var h=Ge;if(ws=l,(Ge=u)&&!h)for(B=i;B!==null;)l=B,u=l.child,l.tag===22&&l.memoizedState!==null?Yf(i):u!==null?(u.return=l,B=u):Yf(i);for(;o!==null;)B=o,hy(o),o=o.sibling;B=i,ws=a,Ge=h}qf(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,B=o):qf(t)}}function qf(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ge||Hl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ct(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vf(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&ao(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ge||e.flags&512&&Ju(e)}catch(g){ye(e,e.return,g)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Xf(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function Yf(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hl(4,e)}catch(u){ye(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ye(e,i,u)}}var o=e.return;try{Ju(e)}catch(u){ye(e,o,u)}break;case 5:var l=e.return;try{Ju(e)}catch(u){ye(e,l,u)}}}catch(u){ye(e,e.return,u)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var J_=Math.ceil,fl=dn.ReactCurrentDispatcher,lh=dn.ReactCurrentOwner,Et=dn.ReactCurrentBatchConfig,ee=0,Pe=null,Se=null,Fe=0,ct=0,jr=$n(0),Ce=0,Eo=null,ur=0,Wl=0,ah=0,Xi=null,rt=null,uh=0,Zr=1/0,Yt=null,pl=!1,tc=null,kn=null,Ts=!1,Sn=null,ml=0,Yi=0,nc=null,bs=-1,Us=0;function Ze(){return ee&6?we():bs!==-1?bs:bs=we()}function Pn(t){return t.mode&1?ee&2&&Fe!==0?Fe&-Fe:L_.transition!==null?(Us===0&&(Us=qm()),Us):(t=ne,t!==0||(t=window.event,t=t===void 0?16:ng(t.type)),t):1}function Dt(t,e,n,r){if(50<Yi)throw Yi=0,nc=null,Error(F(185));No(t,n,r),(!(ee&2)||t!==Pe)&&(t===Pe&&(!(ee&2)&&(Wl|=n),Ce===4&&wn(t,Fe)),lt(t,r),n===1&&ee===0&&!(e.mode&1)&&(Zr=we()+500,zl&&Bn()))}function lt(t,e){var n=t.callbackNode;L1(t,e);var r=Js(t,t===Pe?Fe:0);if(r===0)n!==null&&sf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sf(n),e===1)t.tag===0?O_(Jf.bind(null,t)):wg(Jf.bind(null,t)),P_(function(){!(ee&6)&&Bn()}),n=null;else{switch(Xm(r)){case 1:n=Lc;break;case 4:n=Gm;break;case 16:n=Ys;break;case 536870912:n=Km;break;default:n=Ys}n=_y(n,dy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dy(t,e){if(bs=-1,Us=0,ee&6)throw Error(F(327));var n=t.callbackNode;if(Hr()&&t.callbackNode!==n)return null;var r=Js(t,t===Pe?Fe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gl(t,r);else{e=r;var i=ee;ee|=2;var o=py();(Pe!==t||Fe!==e)&&(Yt=null,Zr=we()+500,nr(t,e));do try{tE();break}catch(a){fy(t,a)}while(!0);Kc(),fl.current=o,ee=i,Se!==null?e=0:(Pe=null,Fe=0,e=Ce)}if(e!==0){if(e===2&&(i=ku(t),i!==0&&(r=i,e=rc(t,i))),e===1)throw n=Eo,nr(t,0),wn(t,r),lt(t,we()),n;if(e===6)wn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Z_(i)&&(e=gl(t,r),e===2&&(o=ku(t),o!==0&&(r=o,e=rc(t,o))),e===1))throw n=Eo,nr(t,0),wn(t,r),lt(t,we()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:Xn(t,rt,Yt);break;case 3:if(wn(t,r),(r&130023424)===r&&(e=uh+500-we(),10<e)){if(Js(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fu(Xn.bind(null,t,rt,Yt),e);break}Xn(t,rt,Yt);break;case 4:if(wn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Nt(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J_(r/1960))-r,10<r){t.timeoutHandle=Fu(Xn.bind(null,t,rt,Yt),r);break}Xn(t,rt,Yt);break;case 5:Xn(t,rt,Yt);break;default:throw Error(F(329))}}}return lt(t,we()),t.callbackNode===n?dy.bind(null,t):null}function rc(t,e){var n=Xi;return t.current.memoizedState.isDehydrated&&(nr(t,e).flags|=256),t=gl(t,e),t!==2&&(e=rt,rt=n,e!==null&&ic(e)),t}function ic(t){rt===null?rt=t:rt.push.apply(rt,t)}function Z_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wn(t,e){for(e&=~ah,e&=~Wl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nt(e),r=1<<n;t[n]=-1,e&=~r}}function Jf(t){if(ee&6)throw Error(F(327));Hr();var e=Js(t,0);if(!(e&1))return lt(t,we()),null;var n=gl(t,e);if(t.tag!==0&&n===2){var r=ku(t);r!==0&&(e=r,n=rc(t,r))}if(n===1)throw n=Eo,nr(t,0),wn(t,e),lt(t,we()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xn(t,rt,Yt),lt(t,we()),null}function ch(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(Zr=we()+500,zl&&Bn())}}function cr(t){Sn!==null&&Sn.tag===0&&!(ee&6)&&Hr();var e=ee;ee|=1;var n=Et.transition,r=ne;try{if(Et.transition=null,ne=1,t)return t()}finally{ne=r,Et.transition=n,ee=e,!(ee&6)&&Bn()}}function hh(){ct=jr.current,ue(jr)}function nr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k_(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Wc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&rl();break;case 3:Yr(),ue(ot),ue(qe),eh();break;case 5:Zc(r);break;case 4:Yr();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:qc(r.type._context);break;case 22:case 23:hh()}n=n.return}if(Pe=t,Se=t=Nn(t.current,null),Fe=ct=e,Ce=0,Eo=null,ah=Wl=ur=0,rt=Xi=null,Zn!==null){for(e=0;e<Zn.length;e++)if(n=Zn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}Zn=null}return t}function fy(t,e){do{var n=Se;try{if(Kc(),Ms.current=dl,hl){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}hl=!1}if(ar=0,Re=Ie=pe=null,Ki=!1,yo=0,lh.current=null,n===null||n.return===null){Ce=1,Eo=e,Se=null;break}e:{var o=t,l=n.return,a=n,u=e;if(e=Fe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=bf(l);if(x!==null){x.flags&=-257,Uf(x,l,a,o,e),x.mode&1&&jf(o,h,e),e=x,u=h;var A=e.updateQueue;if(A===null){var R=new Set;R.add(u),e.updateQueue=R}else A.add(u);break e}else{if(!(e&1)){jf(o,h,e),dh();break e}u=Error(F(426))}}else if(he&&a.mode&1){var O=bf(l);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Uf(O,l,a,o,e),Qc(Jr(u,a));break e}}o=u=Jr(u,a),Ce!==4&&(Ce=2),Xi===null?Xi=[o]:Xi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=Xg(o,u,e);Df(o,v);break e;case 1:a=u;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(kn===null||!kn.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var V=Yg(o,a,e);Df(o,V);break e}}o=o.return}while(o!==null)}gy(n)}catch(b){e=b,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function py(){var t=fl.current;return fl.current=dl,t===null?dl:t}function dh(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Pe===null||!(ur&268435455)&&!(Wl&268435455)||wn(Pe,Fe)}function gl(t,e){var n=ee;ee|=2;var r=py();(Pe!==t||Fe!==e)&&(Yt=null,nr(t,e));do try{eE();break}catch(i){fy(t,i)}while(!0);if(Kc(),ee=n,fl.current=r,Se!==null)throw Error(F(261));return Pe=null,Fe=0,Ce}function eE(){for(;Se!==null;)my(Se)}function tE(){for(;Se!==null&&!A1();)my(Se)}function my(t){var e=vy(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?gy(t):Se=e,lh.current=null}function gy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K_(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,Se=null;return}}else if(n=G_(n,e,ct),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Ce===0&&(Ce=5)}function Xn(t,e,n){var r=ne,i=Et.transition;try{Et.transition=null,ne=1,nE(t,e,n,r)}finally{Et.transition=i,ne=r}return null}function nE(t,e,n,r){do Hr();while(Sn!==null);if(ee&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(M1(t,o),t===Pe&&(Se=Pe=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ts||(Ts=!0,_y(Ys,function(){return Hr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Et.transition,Et.transition=null;var l=ne;ne=1;var a=ee;ee|=4,lh.current=null,X_(t,n),cy(n,t),T_(Lu),Zs=!!Ou,Lu=Ou=null,t.current=n,Y_(n),x1(),ee=a,ne=l,Et.transition=o}else t.current=n;if(Ts&&(Ts=!1,Sn=t,ml=i),o=t.pendingLanes,o===0&&(kn=null),P1(n.stateNode),lt(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(pl)throw pl=!1,t=tc,tc=null,t;return ml&1&&t.tag!==0&&Hr(),o=t.pendingLanes,o&1?t===nc?Yi++:(Yi=0,nc=t):Yi=0,Bn(),null}function Hr(){if(Sn!==null){var t=Xm(ml),e=Et.transition,n=ne;try{if(Et.transition=null,ne=16>t?16:t,Sn===null)var r=!1;else{if(t=Sn,Sn=null,ml=0,ee&6)throw Error(F(331));var i=ee;for(ee|=4,B=t.current;B!==null;){var o=B,l=o.child;if(B.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for(B=h;B!==null;){var f=B;switch(f.tag){case 0:case 11:case 15:qi(8,f,o)}var m=f.child;if(m!==null)m.return=f,B=m;else for(;B!==null;){f=B;var g=f.sibling,x=f.return;if(ly(f),f===h){B=null;break}if(g!==null){g.return=x,B=g;break}B=x}}}var A=o.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var O=R.sibling;R.sibling=null,R=O}while(R!==null)}}B=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,B=l;else e:for(;B!==null;){if(o=B,o.flags&2048)switch(o.tag){case 0:case 11:case 15:qi(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,B=v;break e}B=o.return}}var _=t.current;for(B=_;B!==null;){l=B;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,B=S;else e:for(l=_;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hl(9,a)}}catch(b){ye(a,a.return,b)}if(a===l){B=null;break e}var V=a.sibling;if(V!==null){V.return=a.return,B=V;break e}B=a.return}}if(ee=i,Bn(),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ml,t)}catch{}r=!0}return r}finally{ne=n,Et.transition=e}}return!1}function Zf(t,e,n){e=Jr(n,e),e=Xg(t,e,1),t=Rn(t,e,1),e=Ze(),t!==null&&(No(t,1,e),lt(t,e))}function ye(t,e,n){if(t.tag===3)Zf(t,t,n);else for(;e!==null;){if(e.tag===3){Zf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){t=Jr(n,t),t=Yg(e,t,1),e=Rn(e,t,1),t=Ze(),e!==null&&(No(e,1,t),lt(e,t));break}}e=e.return}}function rE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ze(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(Fe&n)===n&&(Ce===4||Ce===3&&(Fe&130023424)===Fe&&500>we()-uh?nr(t,0):ah|=n),lt(t,e)}function yy(t,e){e===0&&(t.mode&1?(e=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):e=1);var n=Ze();t=an(t,e),t!==null&&(No(t,e,n),lt(t,n))}function iE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yy(t,n)}function oE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),yy(t,n)}var vy;vy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,Q_(t,e,n);it=!!(t.flags&131072)}else it=!1,he&&e.flags&1048576&&Tg(e,sl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;js(t,e),t=e.pendingProps;var i=Kr(e,qe.current);Br(e,n),i=nh(null,e,r,t,i,n);var o=rh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,st(r)?(o=!0,il(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yc(e),i.updater=Bl,e.stateNode=i,i._reactInternals=e,Hu(e,r,t,n),e=Gu(null,e,r,!0,o,n)):(e.tag=0,he&&o&&Hc(e),Je(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(js(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lE(r),t=Ct(r,t),i){case 0:e=Qu(null,e,r,t,n);break e;case 1:e=Bf(null,e,r,t,n);break e;case 11:e=zf(null,e,r,t,n);break e;case 14:e=$f(null,e,r,Ct(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Qu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),Bf(t,e,r,i,n);case 3:e:{if(ty(e),t===null)throw Error(F(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Rg(t,e),ul(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Jr(Error(F(423)),e),e=Hf(t,e,r,n,i);break e}else if(r!==i){i=Jr(Error(F(424)),e),e=Hf(t,e,r,n,i);break e}else for(ht=xn(e.stateNode.containerInfo.firstChild),dt=e,he=!0,xt=null,n=Ag(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qr(),r===i){e=un(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return kg(e),t===null&&zu(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,Mu(r,i)?l=null:o!==null&&Mu(r,o)&&(e.flags|=32),ey(t,e),Je(t,e,l,n),e.child;case 6:return t===null&&zu(e),null;case 13:return ny(t,e,n);case 4:return Jc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xr(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),zf(t,e,r,i,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,oe(ll,r._currentValue),r._currentValue=l,o!==null)if(Vt(o.value,l)){if(o.children===i.children&&!ot.current){e=un(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){l=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=tn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),$u(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(F(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),$u(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Je(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Br(e,n),i=wt(i),r=r(i),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,i=Ct(r,e.pendingProps),i=Ct(r.type,i),$f(t,e,r,i,n);case 15:return Jg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ct(r,i),js(t,e),e.tag=1,st(r)?(t=!0,il(e)):t=!1,Br(e,n),qg(e,r,i),Hu(e,r,i,n),Gu(null,e,r,!0,t,n);case 19:return ry(t,e,n);case 22:return Zg(t,e,n)}throw Error(F(156,e.tag))};function _y(t,e){return Qm(t,e)}function sE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,n,r){return new sE(t,e,n,r)}function fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lE(t){if(typeof t=="function")return fh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dc)return 11;if(t===Vc)return 14}return 2}function Nn(t,e){var n=t.alternate;return n===null?(n=_t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zs(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")fh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Rr:return rr(n.children,i,o,e);case Nc:l=8,i|=8;break;case pu:return t=_t(12,n,e,i|2),t.elementType=pu,t.lanes=o,t;case mu:return t=_t(13,n,e,i),t.elementType=mu,t.lanes=o,t;case gu:return t=_t(19,n,e,i),t.elementType=gu,t.lanes=o,t;case km:return Ql(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xm:l=10;break e;case Rm:l=9;break e;case Dc:l=11;break e;case Vc:l=14;break e;case vn:l=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=_t(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function rr(t,e,n,r){return t=_t(7,t,r,e),t.lanes=n,t}function Ql(t,e,n,r){return t=_t(22,t,r,e),t.elementType=km,t.lanes=n,t.stateNode={isHidden:!1},t}function nu(t,e,n){return t=_t(6,t,null,e),t.lanes=n,t}function ru(t,e,n){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ph(t,e,n,r,i,o,l,a,u){return t=new aE(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_t(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yc(o),t}function uE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ey(t){if(!t)return Mn;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(st(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(st(n))return Eg(t,n,e)}return e}function wy(t,e,n,r,i,o,l,a,u){return t=ph(n,r,!0,t,i,o,l,a,u),t.context=Ey(null),n=t.current,r=Ze(),i=Pn(n),o=tn(r,i),o.callback=e??null,Rn(n,o,i),t.current.lanes=i,No(t,i,r),lt(t,r),t}function Gl(t,e,n,r){var i=e.current,o=Ze(),l=Pn(i);return n=Ey(n),e.context===null?e.context=n:e.pendingContext=n,e=tn(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rn(i,e,l),t!==null&&(Dt(t,i,l,o),Ls(t,i,l)),l}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ep(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mh(t,e){ep(t,e),(t=t.alternate)&&ep(t,e)}function cE(){return null}var Ty=typeof reportError=="function"?reportError:function(t){console.error(t)};function gh(t){this._internalRoot=t}Kl.prototype.render=gh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Gl(t,e,null,null)};Kl.prototype.unmount=gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cr(function(){Gl(null,t,null,null)}),e[ln]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<En.length&&e!==0&&e<En[n].priority;n++);En.splice(n,0,t),n===0&&tg(t)}};function yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tp(){}function hE(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=yl(l);o.call(h)}}var l=wy(e,r,t,0,null,!1,!1,"",tp);return t._reactRootContainer=l,t[ln]=l.current,ho(t.nodeType===8?t.parentNode:t),cr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=yl(u);a.call(h)}}var u=ph(t,0,!1,null,null,!1,!1,"",tp);return t._reactRootContainer=u,t[ln]=u.current,ho(t.nodeType===8?t.parentNode:t),cr(function(){Gl(e,u,n,r)}),u}function Xl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var a=i;i=function(){var u=yl(l);a.call(u)}}Gl(e,l,t,i)}else l=hE(n,e,t,i,r);return yl(l)}Ym=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ui(e.pendingLanes);n!==0&&(Mc(e,n|1),lt(e,we()),!(ee&6)&&(Zr=we()+500,Bn()))}break;case 13:cr(function(){var r=an(t,1);if(r!==null){var i=Ze();Dt(r,t,1,i)}}),mh(t,1)}};Fc=function(t){if(t.tag===13){var e=an(t,134217728);if(e!==null){var n=Ze();Dt(e,t,134217728,n)}mh(t,134217728)}};Jm=function(t){if(t.tag===13){var e=Pn(t),n=an(t,e);if(n!==null){var r=Ze();Dt(n,t,e,r)}mh(t,e)}};Zm=function(){return ne};eg=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Au=function(t,e,n){switch(e){case"input":if(_u(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ul(r);if(!i)throw Error(F(90));Nm(r),_u(r,i)}}}break;case"textarea":Vm(t,n);break;case"select":e=n.value,e!=null&&br(t,!!n.multiple,e,!1)}};Um=ch;zm=cr;var dE={usingClientEntryPoint:!1,Events:[Vo,Dr,Ul,jm,bm,ch]},Li={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fE={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hm(t),t===null?null:t.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||cE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{Ml=Ss.inject(fE),bt=Ss}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dE;pt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yh(e))throw Error(F(200));return uE(t,e,null,n)};pt.createRoot=function(t,e){if(!yh(t))throw Error(F(299));var n=!1,r="",i=Ty;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ph(t,1,!1,null,null,n,!1,r,i),t[ln]=e.current,ho(t.nodeType===8?t.parentNode:t),new gh(e)};pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Hm(e),t=t===null?null:t.stateNode,t};pt.flushSync=function(t){return cr(t)};pt.hydrate=function(t,e,n){if(!ql(e))throw Error(F(200));return Xl(null,t,e,!0,n)};pt.hydrateRoot=function(t,e,n){if(!yh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Ty;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=wy(e,null,t,1,n??null,i,!1,o,l),t[ln]=e.current,ho(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kl(e)};pt.render=function(t,e,n){if(!ql(e))throw Error(F(200));return Xl(null,t,e,!1,n)};pt.unmountComponentAtNode=function(t){if(!ql(t))throw Error(F(40));return t._reactRootContainer?(cr(function(){Xl(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};pt.unstable_batchedUpdates=ch;pt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ql(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Xl(t,e,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(t){console.error(t)}}Sy(),Sm.exports=pt;var pE=Sm.exports,Iy,np=pE;Iy=np.createRoot,np.hydrateRoot;var vh={};Object.defineProperty(vh,"__esModule",{value:!0});vh.parse=wE;vh.serialize=TE;const mE=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,gE=/^[\u0021-\u003A\u003C-\u007E]*$/,yE=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,vE=/^[\u0020-\u003A\u003D-\u007E]*$/,_E=Object.prototype.toString,EE=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function wE(t,e){const n=new EE,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||SE;let o=0;do{const l=t.indexOf("=",o);if(l===-1)break;const a=t.indexOf(";",o),u=a===-1?r:a;if(l>u){o=t.lastIndexOf(";",l-1)+1;continue}const h=rp(t,o,l),f=ip(t,l,h),m=t.slice(h,f);if(n[m]===void 0){let g=rp(t,l+1,u),x=ip(t,u,g);const A=i(t.slice(g,x));n[m]=A}o=u+1}while(o<r);return n}function rp(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function ip(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function TE(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!mE.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!gE.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!yE.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!vE.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!IE(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function SE(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function IE(t){return _E.call(t)==="[object Date]"}var op="popstate";function CE(t={}){function e(i,o){let{pathname:l="/",search:a="",hash:u=""}=ai(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),oc("",{pathname:l,search:a,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let l=i.document.querySelector("base"),a="";if(l&&l.getAttribute("href")){let u=i.location.href,h=u.indexOf("#");a=h===-1?u:u.slice(0,h)}return a+"#"+(typeof o=="string"?o:wo(o))}function r(i,o){Ot(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return xE(e,n,r,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ot(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AE(){return Math.random().toString(36).substring(2,10)}function sp(t,e){return{usr:t.state,key:t.key,idx:e}}function oc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ai(e):e,state:n,key:e&&e.key||r||AE()}}function wo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xE(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,a="POP",u=null,h=f();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function f(){return(l.state||{idx:null}).idx}function m(){a="POP";let O=f(),v=O==null?null:O-h;h=O,u&&u({action:a,location:R.location,delta:v})}function g(O,v){a="PUSH";let _=oc(R.location,O,v);n&&n(_,O),h=f()+1;let S=sp(_,h),V=R.createHref(_);try{l.pushState(S,"",V)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(V)}o&&u&&u({action:a,location:R.location,delta:1})}function x(O,v){a="REPLACE";let _=oc(R.location,O,v);n&&n(_,O),h=f();let S=sp(_,h),V=R.createHref(_);l.replaceState(S,"",V),o&&u&&u({action:a,location:R.location,delta:0})}function A(O){return RE(O)}let R={get action(){return a},get location(){return t(i,l)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(op,m),u=O,()=>{i.removeEventListener(op,m),u=null}},createHref(O){return e(i,O)},createURL:A,encodeLocation(O){let v=A(O);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:x,go(O){return l.go(O)}};return R}function RE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ae(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Cy(t,e,n="/"){return kE(t,e,n,!1)}function kE(t,e,n,r){let i=typeof e=="string"?ai(e):e,o=cn(i.pathname||"/",n);if(o==null)return null;let l=Ay(t);PE(l);let a=null;for(let u=0;a==null&&u<l.length;++u){let h=zE(o);a=bE(l[u],h,r)}return a}function Ay(t,e=[],n=[],r=""){let i=(o,l,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let h=nn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(Ae(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Ay(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:FE(h,o.index),routesMeta:f})};return t.forEach((o,l)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,l);else for(let u of xy(o.path))i(o,l,u)}),e}function xy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=xy(r.join("/")),a=[];return a.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...l),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function PE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var NE=/^:[\w-]+$/,DE=3,VE=2,OE=1,LE=10,ME=-2,lp=t=>t==="*";function FE(t,e){let n=t.split("/"),r=n.length;return n.some(lp)&&(r+=ME),e&&(r+=VE),n.filter(i=>!lp(i)).reduce((i,o)=>i+(NE.test(o)?DE:o===""?OE:LE),r)}function jE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function bE(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let a=0;a<r.length;++a){let u=r[a],h=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",m=vl({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=vl({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:nn([o,m.pathname]),pathnameBase:WE(nn([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=nn([o,m.pathnameBase]))}return l}function vl(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let A=a[g]||"";l=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const x=a[g];return m&&!x?h[f]=void 0:h[f]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function UE(t,e=!1,n=!0){Ot(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ot(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function cn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $E(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ai(t):t;return{pathname:n?n.startsWith("/")?n:BE(n,e):e,search:QE(r),hash:GE(i)}}function BE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function iu(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ry(t){let e=HE(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ky(t,e,n,r=!1){let i;typeof t=="string"?i=ai(t):(i={...t},Ae(!i.pathname||!i.pathname.includes("?"),iu("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),iu("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),iu("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,a;if(l==null)a=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}a=m>=0?e[m]:"/"}let u=$E(i,a),h=l&&l!=="/"&&l.endsWith("/"),f=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var nn=t=>t.join("/").replace(/\/\/+/g,"/"),WE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Py=["POST","PUT","PATCH","DELETE"];new Set(Py);var qE=["GET",...Py];new Set(qE);var ui=L.createContext(null);ui.displayName="DataRouter";var Yl=L.createContext(null);Yl.displayName="DataRouterState";var Ny=L.createContext({isTransitioning:!1});Ny.displayName="ViewTransition";var XE=L.createContext(new Map);XE.displayName="Fetchers";var YE=L.createContext(null);YE.displayName="Await";var Bt=L.createContext(null);Bt.displayName="Navigation";var Jl=L.createContext(null);Jl.displayName="Location";var fn=L.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var _h=L.createContext(null);_h.displayName="RouteError";function JE(t,{relative:e}={}){Ae(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Bt),{hash:i,pathname:o,search:l}=Mo(t,{relative:e}),a=o;return n!=="/"&&(a=o==="/"?n:nn([n,o])),r.createHref({pathname:a,search:l,hash:i})}function Lo(){return L.useContext(Jl)!=null}function yr(){return Ae(Lo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Jl).location}var Dy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vy(t){L.useContext(Bt).static||L.useLayoutEffect(t)}function ZE(){let{isDataRoute:t}=L.useContext(fn);return t?dw():ew()}function ew(){Ae(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(ui),{basename:e,navigator:n}=L.useContext(Bt),{matches:r}=L.useContext(fn),{pathname:i}=yr(),o=JSON.stringify(Ry(r)),l=L.useRef(!1);return Vy(()=>{l.current=!0}),L.useCallback((u,h={})=>{if(Ot(l.current,Dy),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=ky(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:nn([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,o,i,t])}L.createContext(null);function Mo(t,{relative:e}={}){let{matches:n}=L.useContext(fn),{pathname:r}=yr(),i=JSON.stringify(Ry(n));return L.useMemo(()=>ky(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function tw(t,e,n,r){Ae(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(Bt),{matches:o}=L.useContext(fn),l=o[o.length-1],a=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let v=f&&f.path||"";Oy(u,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let m=yr(),g;g=m;let x=g.pathname||"/",A=x;if(h!=="/"){let v=h.replace(/^\//,"").split("/");A="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let R=Cy(t,{pathname:A});return Ot(f||R!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ot(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sw(R&&R.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:nn([h,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?h:nn([h,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,n,r)}function nw(){let t=hw(),e=KE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,l)}var rw=L.createElement(nw,null),iw=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(fn.Provider,{value:this.props.routeContext},L.createElement(_h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ow({routeContext:t,match:e,children:n}){let r=L.useContext(ui);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(fn.Provider,{value:t},n)}function sw(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ae(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,a=-1;if(n)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=u),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let m,g=!1,x=null,A=null;n&&(m=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||rw,l&&(a<0&&f===0?(Oy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,A=null):a===f&&(g=!0,A=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,f+1)),O=()=>{let v;return m?v=x:g?v=A:h.route.Component?v=L.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,L.createElement(ow,{match:h,routeContext:{outlet:u,matches:R,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L.createElement(iw,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):O()},null)}function Eh(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lw(t){let e=L.useContext(ui);return Ae(e,Eh(t)),e}function aw(t){let e=L.useContext(Yl);return Ae(e,Eh(t)),e}function uw(t){let e=L.useContext(fn);return Ae(e,Eh(t)),e}function wh(t){let e=uw(t),n=e.matches[e.matches.length-1];return Ae(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function cw(){return wh("useRouteId")}function hw(){var r;let t=L.useContext(_h),e=aw("useRouteError"),n=wh("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function dw(){let{router:t}=lw("useNavigate"),e=wh("useNavigate"),n=L.useRef(!1);return Vy(()=>{n.current=!0}),L.useCallback(async(i,o={})=>{Ot(n.current,Dy),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var ap={};function Oy(t,e,n){!e&&!ap[t]&&(ap[t]=!0,Ot(!1,n))}L.memo(fw);function fw({routes:t,future:e,state:n}){return tw(t,void 0,n,e)}function pw({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Ae(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),a=L.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=ai(n));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=n,x=L.useMemo(()=>{let A=cn(u,l);return A==null?null:{location:{pathname:A,search:h,hash:f,state:m,key:g},navigationType:r}},[l,u,h,f,m,g,r]);return Ot(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Bt.Provider,{value:a},L.createElement(Jl.Provider,{children:e,value:x}))}var $s="get",Bs="application/x-www-form-urlencoded";function Zl(t){return t!=null&&typeof t.tagName=="string"}function mw(t){return Zl(t)&&t.tagName.toLowerCase()==="button"}function gw(t){return Zl(t)&&t.tagName.toLowerCase()==="form"}function yw(t){return Zl(t)&&t.tagName.toLowerCase()==="input"}function vw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _w(t,e){return t.button===0&&(!e||e==="_self")&&!vw(t)}var Is=null;function Ew(){if(Is===null)try{new FormData(document.createElement("form"),0),Is=!1}catch{Is=!0}return Is}var ww=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ou(t){return t!=null&&!ww.has(t)?(Ot(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bs}"`),null):t}function Tw(t,e){let n,r,i,o,l;if(gw(t)){let a=t.getAttribute("action");r=a?cn(a,e):null,n=t.getAttribute("method")||$s,i=ou(t.getAttribute("enctype"))||Bs,o=new FormData(t)}else if(mw(t)||yw(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||a.getAttribute("action");if(r=u?cn(u,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||$s,i=ou(t.getAttribute("formenctype"))||ou(a.getAttribute("enctype"))||Bs,o=new FormData(a,t),!Ew()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else h&&o.append(h,m)}}else{if(Zl(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$s,r=null,i=Bs,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function Th(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Sw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Iw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Cw(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await Sw(o,n);return l.links?l.links():[]}return[]}));return kw(r.flat(1).filter(Iw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function up(t,e,n,r,i,o){let l=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,a=(u,h)=>{var f;return n[h].pathname!==u.pathname||((f=n[h].route.path)==null?void 0:f.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,h)=>l(u,h)||a(u,h)):o==="data"?e.filter((u,h)=>{var m;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(l(u,h)||a(u,h))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Aw(t,e,{includeHydrateFallback:n}={}){return xw(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function xw(t){return[...new Set(t)]}function Rw(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function kw(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Rw(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pw=new Set([100,101,204,205]);function Nw(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&cn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ly(){let t=L.useContext(ui);return Th(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Dw(){let t=L.useContext(Yl);return Th(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Sh=L.createContext(void 0);Sh.displayName="FrameworkContext";function My(){let t=L.useContext(Sh);return Th(t,"You must render this element inside a <HydratedRouter> element"),t}function Vw(t,e){let n=L.useContext(Sh),[r,i]=L.useState(!1),[o,l]=L.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let R=v=>{v.forEach(_=>{l(_.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return g.current&&O.observe(g.current),()=>{O.disconnect()}}},[t]),L.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let x=()=>{i(!0)},A=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:Mi(a,x),onBlur:Mi(u,A),onMouseEnter:Mi(h,x),onMouseLeave:Mi(f,A),onTouchStart:Mi(m,x)}]:[!1,g,{}]}function Mi(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ow({page:t,...e}){let{router:n}=Ly(),r=L.useMemo(()=>Cy(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(Mw,{page:t,matches:r,...e}):null}function Lw(t){let{manifest:e,routeModules:n}=My(),[r,i]=L.useState([]);return L.useEffect(()=>{let o=!1;return Cw(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function Mw({page:t,matches:e,...n}){let r=yr(),{manifest:i,routeModules:o}=My(),{basename:l}=Ly(),{loaderData:a,matches:u}=Dw(),h=L.useMemo(()=>up(t,e,u,i,r,"data"),[t,e,u,i,r]),f=L.useMemo(()=>up(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,R=!1;if(e.forEach(v=>{var S;let _=i.routes[v.route.id];!_||!_.hasLoader||(!h.some(V=>V.route.id===v.route.id)&&v.route.id in a&&((S=o[v.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?R=!0:A.add(v.route.id))}),A.size===0)return[];let O=Nw(t,l);return R&&A.size>0&&O.searchParams.set("_routes",e.filter(v=>A.has(v.route.id)).map(v=>v.route.id).join(",")),[O.pathname+O.search]},[l,a,r,i,h,e,t,o]),g=L.useMemo(()=>Aw(f,i),[f,i]),x=Lw(f);return L.createElement(L.Fragment,null,m.map(A=>L.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),g.map(A=>L.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),x.map(({key:A,link:R})=>L.createElement("link",{key:A,...R})))}function Fw(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fy&&(window.__reactRouterVersion="7.6.1")}catch{}function jw({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=CE({window:n,v5Compat:!0}));let i=r.current,[o,l]=L.useState({action:i.action,location:i.location}),a=L.useCallback(u=>{L.startTransition(()=>l(u))},[l]);return L.useLayoutEffect(()=>i.listen(a),[i,a]),L.createElement(pw,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var jy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,by=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:a,target:u,to:h,preventScrollReset:f,viewTransition:m,...g},x){let{basename:A}=L.useContext(Bt),R=typeof h=="string"&&jy.test(h),O,v=!1;if(typeof h=="string"&&R&&(O=h,Fy))try{let E=new URL(window.location.href),T=h.startsWith("//")?new URL(E.protocol+h):new URL(h),C=cn(T.pathname,A);T.origin===E.origin&&C!=null?h=C+T.search+T.hash:v=!0}catch{Ot(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=JE(h,{relative:i}),[S,V,b]=Vw(r,g),z=$w(h,{replace:l,state:a,target:u,preventScrollReset:f,relative:i,viewTransition:m});function w(E){e&&e(E),E.defaultPrevented||z(E)}let y=L.createElement("a",{...g,...b,href:O||_,onClick:v||o?e:w,ref:Fw(x,V),target:u,"data-discover":!R&&n==="render"?"true":void 0});return S&&!R?L.createElement(L.Fragment,null,y,L.createElement(Ow,{page:_})):y});by.displayName="Link";var bw=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:a,children:u,...h},f){let m=Mo(l,{relative:h.relative}),g=yr(),x=L.useContext(Yl),{navigator:A,basename:R}=L.useContext(Bt),O=x!=null&&Gw(m)&&a===!0,v=A.encodeLocation?A.encodeLocation(m).pathname:m.pathname,_=g.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&R&&(S=cn(S,R)||S);const V=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let b=_===v||!i&&_.startsWith(v)&&_.charAt(V)==="/",z=S!=null&&(S===v||!i&&S.startsWith(v)&&S.charAt(v.length)==="/"),w={isActive:b,isPending:z,isTransitioning:O},y=b?e:void 0,E;typeof r=="function"?E=r(w):E=[r,b?"active":null,z?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(w):o;return L.createElement(by,{...h,"aria-current":y,className:E,ref:f,style:T,to:l,viewTransition:a},typeof u=="function"?u(w):u)});bw.displayName="NavLink";var Uw=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=$s,action:a,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,...g},x)=>{let A=Ww(),R=Qw(a,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",v=typeof a=="string"&&jy.test(a),_=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let V=S.nativeEvent.submitter,b=(V==null?void 0:V.getAttribute("formmethod"))||l;A(V||S.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:i,state:o,relative:h,preventScrollReset:f,viewTransition:m})};return L.createElement("form",{ref:x,method:O,action:R,onSubmit:r?u:_,...g,"data-discover":!v&&t==="render"?"true":void 0})});Uw.displayName="Form";function zw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uy(t){let e=L.useContext(ui);return Ae(e,zw(t)),e}function $w(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let a=ZE(),u=yr(),h=Mo(t,{relative:o});return L.useCallback(f=>{if(_w(f,e)){f.preventDefault();let m=n!==void 0?n:wo(u)===wo(h);a(t,{replace:m,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[u,a,h,n,r,e,t,i,o,l])}var Bw=0,Hw=()=>`__${String(++Bw)}__`;function Ww(){let{router:t}=Uy("useSubmit"),{basename:e}=L.useContext(Bt),n=cw();return L.useCallback(async(r,i={})=>{let{action:o,method:l,encType:a,formData:u,body:h}=Tw(r,e);if(i.navigate===!1){let f=i.fetcherKey||Hw();await t.fetch(f,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||l,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Qw(t,{relative:e}={}){let{basename:n}=L.useContext(Bt),r=L.useContext(fn);Ae(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Mo(t||".",{relative:e})},l=yr();if(t==null){o.search=l.search;let a=new URLSearchParams(o.search),u=a.getAll("index");if(u.some(f=>f==="")){a.delete("index"),u.filter(m=>m).forEach(m=>a.append("index",m));let f=a.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:nn([n,o.pathname])),wo(o)}function Gw(t,e={}){let n=L.useContext(Ny);Ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Uy("useViewTransitionState"),i=Mo(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=cn(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=cn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vl(i.pathname,l)!=null||vl(i.pathname,o)!=null}[...Pw];const sc=[{size:"1/4",maxFlavors:2,price:1e3},{size:"1/2",maxFlavors:3,price:1800},{size:"1kg",maxFlavors:4,price:3200}],Kw=[{id:"1",name:"Chocolate"},{id:"2",name:"Vainilla"},{id:"3",name:"Frutilla"},{id:"4",name:"Dulce de Leche"},{id:"5",name:"Limón"},{id:"6",name:"Menta Granizada"},{id:"7",name:"Banana Split"},{id:"8",name:"Tramontana"}],qw="3447491620",zy=L.createContext(void 0),Xw=({children:t})=>{const[e,n]=L.useState(1),[r,i]=L.useState({name:"",phone:"",deliveryType:"pickup",address:""}),[o,l]=L.useState(null),[a,u]=L.useState([]),h=()=>{if(!o)return 0;const R=sc.find(O=>O.size===o);return R?R.maxFlavors:0},f=R=>{a.length<h()&&u([...a,R])},m=R=>{u(a.filter(O=>O.id!==R))},g=()=>{if(!o)return 0;const R=sc.find(_=>_.size===o),O=R?R.price:0,v=r.deliveryType==="delivery"?500:0;return O+v},x=()=>({customer:r,containerSize:o,flavors:a,date:new Date,price:g()}),A=()=>{n(1),i({name:"",phone:"",deliveryType:"pickup",address:""}),l(null),u([])};return D.jsx(zy.Provider,{value:{currentStep:e,setCurrentStep:n,customer:r,setCustomer:i,containerSize:o,setContainerSize:l,selectedFlavors:a,addFlavor:f,removeFlavor:m,maxFlavors:h(),createOrder:x,resetOrder:A},children:t})},ci=()=>{const t=L.useContext(zy);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Fo=(t,e)=>{const n=L.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:a="",children:u,...h},f)=>L.createElement("svg",{ref:f,...Yw,width:i,height:i,stroke:r,strokeWidth:l?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Jw(t)}`,a].join(" "),...h},[...e.map(([m,g])=>L.createElement(m,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Fo("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Fo("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Fo("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Fo("IceCream",[["path",{d:"m7 11 4.08 10.35a1 1 0 0 0 1.84 0L17 11",key:"1v6356"}],["path",{d:"M17 7A5 5 0 0 0 7 7",key:"151p3v"}],["path",{d:"M17 7a2 2 0 0 1 0 4H7a2 2 0 0 1 0-4",key:"1sdaij"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Fo("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nT=()=>D.jsx("header",{className:"bg-gradient-to-r from-pink-400 to-pink-500 text-white p-4 shadow-md",children:D.jsxs("div",{className:"container mx-auto flex items-center justify-center md:justify-start",children:[D.jsx(By,{className:"h-8 w-8 mr-2"}),D.jsx("h1",{className:"text-2xl font-bold",children:"Heladería Delicia"})]})}),rT=()=>D.jsx("footer",{className:"bg-gray-800 text-white py-4 mt-auto",children:D.jsxs("div",{className:"container mx-auto text-center text-sm",children:[D.jsx("p",{children:"© 2025 Heladería Delicia. Todos los derechos reservados."}),D.jsx("p",{className:"mt-1",children:"¡Los mejores helados artesanales!"})]})}),cp=()=>{const{customer:t,setCustomer:e,setCurrentStep:n}=ci(),[r,i]=L.useState({name:"",phone:"",address:""}),o=u=>{const{name:h,value:f}=u.target;e({...t,[h]:f}),r[h]&&i({...r,[h]:""})},l=()=>{var f;const u={name:"",phone:"",address:""};let h=!0;return t.name.trim()||(u.name="El nombre es requerido",h=!1),t.phone.trim()?/^\d{10}$/.test(t.phone.replace(/\D/g,""))||(u.phone="Ingrese un número de teléfono válido (10 dígitos)",h=!1):(u.phone="El teléfono es requerido",h=!1),t.deliveryType==="delivery"&&!((f=t.address)!=null&&f.trim())&&(u.address="La dirección es requerida para delivery",h=!1),i(u),h},a=u=>{u.preventDefault(),l()&&n(2)};return D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-md mx-auto",children:[D.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Información del Cliente"}),D.jsxs("form",{onSubmit:a,className:"space-y-4",children:[D.jsxs("div",{children:[D.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),D.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:o,className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-pink-300 transition-all ${r.name?"border-red-500":"border-gray-300"}`,placeholder:"Ingrese su nombre"}),r.name&&D.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.name})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono (WhatsApp)"}),D.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:o,className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-pink-300 transition-all ${r.phone?"border-red-500":"border-gray-300"}`,placeholder:"Ej: 3447491620"}),r.phone&&D.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.phone})]}),D.jsxs("div",{children:[D.jsx("label",{htmlFor:"deliveryType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Entrega"}),D.jsxs("select",{id:"deliveryType",name:"deliveryType",value:t.deliveryType,onChange:o,className:"w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-300 transition-all",children:[D.jsx("option",{value:"pickup",children:"Retiro por el local"}),D.jsx("option",{value:"delivery",children:"Delivery (+$500)"})]})]}),t.deliveryType==="delivery"&&D.jsxs("div",{children:[D.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección de Entrega"}),D.jsx("input",{type:"text",id:"address",name:"address",value:t.address,onChange:o,className:`w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-pink-300 transition-all ${r.address?"border-red-500":"border-gray-300"}`,placeholder:"Ingrese su dirección completa"}),r.address&&D.jsx("p",{className:"mt-1 text-sm text-red-500",children:r.address})]}),D.jsx("button",{type:"submit",className:"w-full bg-pink-500 text-white py-3 px-4 rounded-md hover:bg-pink-600 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2",children:"Continuar"})]})]})},iT=()=>{const{containerSize:t,setContainerSize:e,setCurrentStep:n}=ci(),r=l=>{e(l)},i=()=>{t&&n(3)},o=()=>{n(1)};return D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-3xl mx-auto",children:[D.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Selecciona el Tamaño"}),D.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:sc.map(l=>D.jsx("div",{onClick:()=>r(l.size),className:`border-2 rounded-lg p-4 cursor-pointer transition-all duration-300 hover:shadow-md ${t===l.size?"border-pink-500 bg-pink-50":"border-gray-200 hover:border-pink-200"}`,children:D.jsxs("div",{className:"text-center",children:[D.jsx("div",{className:"text-xl font-bold mb-2",children:l.size}),D.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["Hasta ",l.maxFlavors," gustos"]}),D.jsxs("div",{className:"text-lg font-semibold text-pink-600",children:["$",l.price.toLocaleString()]})]})},l.size))}),D.jsxs("div",{className:"flex justify-between mt-6",children:[D.jsx("button",{onClick:o,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2",children:"Atrás"}),D.jsx("button",{onClick:i,disabled:!t,className:`px-6 py-2 rounded-md text-white transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2 ${t?"bg-pink-500 hover:bg-pink-600":"bg-gray-300 cursor-not-allowed"}`,children:"Continuar"})]})]})},oT=()=>{const{selectedFlavors:t,addFlavor:e,removeFlavor:n,maxFlavors:r,setCurrentStep:i}=ci(),o=f=>t.some(m=>m.id===f.id),l=t.length>=r,a=f=>{o(f)?n(f.id):l||e(f)},u=()=>{t.length>0&&i(4)},h=()=>{i(2)};return D.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-3xl mx-auto",children:[D.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Selecciona los Gustos"}),D.jsxs("p",{className:"text-gray-600 mb-6",children:["Selecciona hasta ",r," gustos diferentes (",t.length,"/",r,")"]}),D.jsx("div",{className:"overflow-x-auto",children:D.jsxs("table",{className:"w-full border-collapse",children:[D.jsx("thead",{children:D.jsxs("tr",{className:"bg-gray-50",children:[D.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gusto"}),D.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Seleccionar"})]})}),D.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Kw.map(f=>D.jsxs("tr",{onClick:()=>!l||o(f)?a(f):null,className:`cursor-pointer transition-colors duration-200 hover:bg-gray-50 ${l&&!o(f)?"opacity-50":""}`,children:[D.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:f.name}),D.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o(f)?D.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 bg-pink-500 rounded-full",children:D.jsx($y,{className:"h-4 w-4 text-white"})}):D.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 border-2 border-gray-300 rounded-full"})})]},f.id))})]})}),t.length>0&&D.jsxs("div",{className:"mt-6 p-4 bg-pink-50 rounded-lg",children:[D.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Gustos seleccionados:"}),D.jsx("div",{className:"space-y-1",children:t.map(f=>D.jsxs("div",{className:"flex items-center justify-between text-sm",children:[D.jsx("span",{children:f.name}),D.jsxs("button",{onClick:()=>n(f.id),className:"text-pink-600 hover:text-pink-800",children:[D.jsx("span",{className:"sr-only",children:"Eliminar"}),"×"]})]},f.id))})]}),D.jsxs("div",{className:"flex justify-between mt-6",children:[D.jsx("button",{onClick:h,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2",children:"Atrás"}),D.jsx("button",{onClick:u,disabled:t.length===0,className:`px-6 py-2 rounded-md text-white transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2 ${t.length>0?"bg-pink-500 hover:bg-pink-600":"bg-gray-300 cursor-not-allowed"}`,children:"Continuar"})]})]})},hp=t=>new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t),sT=()=>{};var dp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,a=l?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|a>>4;let g=(a&15)<<2|h>>6,x=h&63;u||(x=64,l||(g=64)),r.push(n[f],n[m],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||h==null||m==null)throw new aT;const g=o<<2|a>>4;if(r.push(g),h!==64){const x=a<<4&240|h>>2;if(r.push(x),m!==64){const A=h<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uT=function(t){const e=Hy(t);return Wy.encodeByteArray(e,!0)},_l=function(t){return uT(t).replace(/\./g,"")},cT=function(t){try{return Wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=()=>hT().__FIREBASE_DEFAULTS__,fT=()=>{if(typeof process>"u"||typeof dp>"u")return;const t=dp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cT(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return sT()||dT()||fT()||pT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mT=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gT=t=>{const e=mT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qy=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return t.endsWith(".cloudworkstations.dev")}async function vT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_l(JSON.stringify(n)),_l(JSON.stringify(l)),""].join(".")}const Ji={};function ET(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ji))Ji[e]?t.emulator.push(e):t.prod.push(e);return t}function wT(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fp=!1;function TT(t,e){if(typeof window>"u"||typeof document>"u"||!Ch(window.location.host)||Ji[t]===e||Ji[t]||fp)return;Ji[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=ET().prod.length>0;function l(){const g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,x){g.setAttribute("width","24"),g.setAttribute("id",x),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{fp=!0,l()},g}function f(g,x){g.setAttribute("id",x),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=wT(r),x=n("text"),A=document.getElementById(x)||document.createElement("span"),R=n("learnmore"),O=document.getElementById(R)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const S=g.element;a(S),f(O,R);const V=h();u(_,v),S.append(_,A,O,V),document.body.appendChild(S)}o?(A.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IT(){var t;const e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CT(){return!IT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AT(){try{return typeof indexedDB=="object"}catch{return!1}}function xT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RT,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gy.prototype.create)}}class Gy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?kT(o,r):"Error",a=`${this.serviceName}: ${l} (${i}).`;return new hi(i,a,r)}}function kT(t,e){return t.replace(PT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PT=/\{\$([^}]+)}/g;function El(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(pp(o)&&pp(l)){if(!El(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){return t&&t._delegate?t._delegate:t}class So{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VT(e))try{this.getOrInitializeService({instanceIdentifier:Yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yn){return this.instances.has(e)}getOptions(e=Yn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yn){return this.component?this.component.multipleInstances?e:Yn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DT(t){return t===Yn?void 0:t}function VT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(J||(J={}));const LT={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},MT=J.INFO,FT={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},jT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=MT,this._logHandler=jT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}const bT=(t,e)=>e.some(n=>t instanceof n);let mp,gp;function UT(){return mp||(mp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zT(){return gp||(gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,lc=new WeakMap,Xy=new WeakMap,su=new WeakMap,Ah=new WeakMap;function $T(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Dn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qy.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function BT(t){if(lc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});lc.set(t,e)}let ac={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HT(t){ac=t(ac)}function WT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lu(this),e,...n);return Xy.set(r,e.sort?e.sort():[e]),Dn(r)}:zT().includes(t)?function(...e){return t.apply(lu(this),e),Dn(qy.get(this))}:function(...e){return Dn(t.apply(lu(this),e))}}function QT(t){return typeof t=="function"?WT(t):(t instanceof IDBTransaction&&BT(t),bT(t,UT())?new Proxy(t,ac):t)}function Dn(t){if(t instanceof IDBRequest)return $T(t);if(su.has(t))return su.get(t);const e=QT(t);return e!==t&&(su.set(t,e),Ah.set(e,t)),e}const lu=t=>Ah.get(t);function GT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),a=Dn(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Dn(l.result),u.oldVersion,u.newVersion,Dn(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const KT=["get","getKey","getAll","getAllKeys","count"],qT=["put","add","delete","clear"],au=new Map;function yp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(au.get(e))return au.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=qT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KT.includes(n)))return;const o=async function(l,...a){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&u.done]))[0]};return au.set(e,o),o}HT(t=>({...t,get:(e,n,r)=>yp(e,n)||t.get(e,n,r),has:(e,n)=>!!yp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uc="@firebase/app",vp="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new Ky("@firebase/app"),JT="@firebase/app-compat",ZT="@firebase/analytics-compat",eS="@firebase/analytics",tS="@firebase/app-check-compat",nS="@firebase/app-check",rS="@firebase/auth",iS="@firebase/auth-compat",oS="@firebase/database",sS="@firebase/data-connect",lS="@firebase/database-compat",aS="@firebase/functions",uS="@firebase/functions-compat",cS="@firebase/installations",hS="@firebase/installations-compat",dS="@firebase/messaging",fS="@firebase/messaging-compat",pS="@firebase/performance",mS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",vS="@firebase/storage",_S="@firebase/storage-compat",ES="@firebase/firestore",wS="@firebase/ai",TS="@firebase/firestore-compat",SS="firebase",IS="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="[DEFAULT]",CS={[uc]:"fire-core",[JT]:"fire-core-compat",[eS]:"fire-analytics",[ZT]:"fire-analytics-compat",[nS]:"fire-app-check",[tS]:"fire-app-check-compat",[rS]:"fire-auth",[iS]:"fire-auth-compat",[oS]:"fire-rtdb",[sS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[aS]:"fire-fn",[uS]:"fire-fn-compat",[cS]:"fire-iid",[hS]:"fire-iid-compat",[dS]:"fire-fcm",[fS]:"fire-fcm-compat",[pS]:"fire-perf",[mS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[vS]:"fire-gcs",[_S]:"fire-gcs-compat",[ES]:"fire-fst",[TS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Map,AS=new Map,hc=new Map;function _p(t,e){try{t.container.addComponent(e)}catch(n){hn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tl(t){const e=t.name;if(hc.has(e))return hn.debug(`There were multiple attempts to register component ${e}.`),!1;hc.set(e,t);for(const n of wl.values())_p(n,t);for(const n of AS.values())_p(n,t);return!0}function xS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function RS(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vn=new Gy("app","Firebase",kS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=IS;function Yy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cc,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Vn.create("bad-app-name",{appName:String(i)});if(n||(n=Qy()),!n)throw Vn.create("no-options");const o=wl.get(i);if(o){if(El(n,o.options)&&El(r,o.config))return o;throw Vn.create("duplicate-app",{appName:i})}const l=new OT(i);for(const u of hc.values())l.addComponent(u);const a=new PS(n,r,l);return wl.set(i,a),a}function DS(t=cc){const e=wl.get(t);if(!e&&t===cc&&Qy())return Yy();if(!e)throw Vn.create("no-app",{appName:t});return e}function Wr(t,e,n){var r;let i=(r=CS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&a.push("and"),l&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hn.warn(a.join(" "));return}Tl(new So(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="firebase-heartbeat-database",OS=1,Io="firebase-heartbeat-store";let uu=null;function Jy(){return uu||(uu=GT(VS,OS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Io)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vn.create("idb-open",{originalErrorMessage:t.message})})),uu}async function LS(t){try{const n=(await Jy()).transaction(Io),r=await n.objectStore(Io).get(Zy(t));return await n.done,r}catch(e){if(e instanceof hi)hn.warn(e.message);else{const n=Vn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hn.warn(n.message)}}}async function Ep(t,e){try{const r=(await Jy()).transaction(Io,"readwrite");await r.objectStore(Io).put(e,Zy(t)),await r.done}catch(n){if(n instanceof hi)hn.warn(n.message);else{const r=Vn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hn.warn(r.message)}}}function Zy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=1024,FS=30;class jS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new US(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FS){const l=zS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wp(),{heartbeatsToSend:r,unsentEntries:i}=bS(this._heartbeatsCache.heartbeats),o=_l(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return hn.warn(n),""}}}function wp(){return new Date().toISOString().substring(0,10)}function bS(t,e=MS){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Tp(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Tp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class US{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AT()?xT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ep(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ep(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Tp(t){return _l(JSON.stringify({version:2,heartbeats:t})).length}function zS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){Tl(new So("platform-logger",e=>new XT(e),"PRIVATE")),Tl(new So("heartbeat",e=>new jS(e),"PRIVATE")),Wr(uc,vp,t),Wr(uc,vp,"esm2017"),Wr("fire-js","")}$S("");var BS="firebase",HS="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wr(BS,HS,"app");var Sp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,y){function E(){}E.prototype=y.prototype,w.D=y.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(T,C,P){for(var I=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)I[gt-2]=arguments[gt];return y.prototype[C].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,y,E){E||(E=0);var T=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)T[C]=y.charCodeAt(E++)|y.charCodeAt(E++)<<8|y.charCodeAt(E++)<<16|y.charCodeAt(E++)<<24;else for(C=0;16>C;++C)T[C]=y[E++]|y[E++]<<8|y[E++]<<16|y[E++]<<24;y=w.g[0],E=w.g[1],C=w.g[2];var P=w.g[3],I=y+(P^E&(C^P))+T[0]+3614090360&4294967295;y=E+(I<<7&4294967295|I>>>25),I=P+(C^y&(E^C))+T[1]+3905402710&4294967295,P=y+(I<<12&4294967295|I>>>20),I=C+(E^P&(y^E))+T[2]+606105819&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(y^C&(P^y))+T[3]+3250441966&4294967295,E=C+(I<<22&4294967295|I>>>10),I=y+(P^E&(C^P))+T[4]+4118548399&4294967295,y=E+(I<<7&4294967295|I>>>25),I=P+(C^y&(E^C))+T[5]+1200080426&4294967295,P=y+(I<<12&4294967295|I>>>20),I=C+(E^P&(y^E))+T[6]+2821735955&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(y^C&(P^y))+T[7]+4249261313&4294967295,E=C+(I<<22&4294967295|I>>>10),I=y+(P^E&(C^P))+T[8]+1770035416&4294967295,y=E+(I<<7&4294967295|I>>>25),I=P+(C^y&(E^C))+T[9]+2336552879&4294967295,P=y+(I<<12&4294967295|I>>>20),I=C+(E^P&(y^E))+T[10]+4294925233&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(y^C&(P^y))+T[11]+2304563134&4294967295,E=C+(I<<22&4294967295|I>>>10),I=y+(P^E&(C^P))+T[12]+1804603682&4294967295,y=E+(I<<7&4294967295|I>>>25),I=P+(C^y&(E^C))+T[13]+4254626195&4294967295,P=y+(I<<12&4294967295|I>>>20),I=C+(E^P&(y^E))+T[14]+2792965006&4294967295,C=P+(I<<17&4294967295|I>>>15),I=E+(y^C&(P^y))+T[15]+1236535329&4294967295,E=C+(I<<22&4294967295|I>>>10),I=y+(C^P&(E^C))+T[1]+4129170786&4294967295,y=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(y^E))+T[6]+3225465664&4294967295,P=y+(I<<9&4294967295|I>>>23),I=C+(y^E&(P^y))+T[11]+643717713&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^y&(C^P))+T[0]+3921069994&4294967295,E=C+(I<<20&4294967295|I>>>12),I=y+(C^P&(E^C))+T[5]+3593408605&4294967295,y=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(y^E))+T[10]+38016083&4294967295,P=y+(I<<9&4294967295|I>>>23),I=C+(y^E&(P^y))+T[15]+3634488961&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^y&(C^P))+T[4]+3889429448&4294967295,E=C+(I<<20&4294967295|I>>>12),I=y+(C^P&(E^C))+T[9]+568446438&4294967295,y=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(y^E))+T[14]+3275163606&4294967295,P=y+(I<<9&4294967295|I>>>23),I=C+(y^E&(P^y))+T[3]+4107603335&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^y&(C^P))+T[8]+1163531501&4294967295,E=C+(I<<20&4294967295|I>>>12),I=y+(C^P&(E^C))+T[13]+2850285829&4294967295,y=E+(I<<5&4294967295|I>>>27),I=P+(E^C&(y^E))+T[2]+4243563512&4294967295,P=y+(I<<9&4294967295|I>>>23),I=C+(y^E&(P^y))+T[7]+1735328473&4294967295,C=P+(I<<14&4294967295|I>>>18),I=E+(P^y&(C^P))+T[12]+2368359562&4294967295,E=C+(I<<20&4294967295|I>>>12),I=y+(E^C^P)+T[5]+4294588738&4294967295,y=E+(I<<4&4294967295|I>>>28),I=P+(y^E^C)+T[8]+2272392833&4294967295,P=y+(I<<11&4294967295|I>>>21),I=C+(P^y^E)+T[11]+1839030562&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^y)+T[14]+4259657740&4294967295,E=C+(I<<23&4294967295|I>>>9),I=y+(E^C^P)+T[1]+2763975236&4294967295,y=E+(I<<4&4294967295|I>>>28),I=P+(y^E^C)+T[4]+1272893353&4294967295,P=y+(I<<11&4294967295|I>>>21),I=C+(P^y^E)+T[7]+4139469664&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^y)+T[10]+3200236656&4294967295,E=C+(I<<23&4294967295|I>>>9),I=y+(E^C^P)+T[13]+681279174&4294967295,y=E+(I<<4&4294967295|I>>>28),I=P+(y^E^C)+T[0]+3936430074&4294967295,P=y+(I<<11&4294967295|I>>>21),I=C+(P^y^E)+T[3]+3572445317&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^y)+T[6]+76029189&4294967295,E=C+(I<<23&4294967295|I>>>9),I=y+(E^C^P)+T[9]+3654602809&4294967295,y=E+(I<<4&4294967295|I>>>28),I=P+(y^E^C)+T[12]+3873151461&4294967295,P=y+(I<<11&4294967295|I>>>21),I=C+(P^y^E)+T[15]+530742520&4294967295,C=P+(I<<16&4294967295|I>>>16),I=E+(C^P^y)+T[2]+3299628645&4294967295,E=C+(I<<23&4294967295|I>>>9),I=y+(C^(E|~P))+T[0]+4096336452&4294967295,y=E+(I<<6&4294967295|I>>>26),I=P+(E^(y|~C))+T[7]+1126891415&4294967295,P=y+(I<<10&4294967295|I>>>22),I=C+(y^(P|~E))+T[14]+2878612391&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~y))+T[5]+4237533241&4294967295,E=C+(I<<21&4294967295|I>>>11),I=y+(C^(E|~P))+T[12]+1700485571&4294967295,y=E+(I<<6&4294967295|I>>>26),I=P+(E^(y|~C))+T[3]+2399980690&4294967295,P=y+(I<<10&4294967295|I>>>22),I=C+(y^(P|~E))+T[10]+4293915773&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~y))+T[1]+2240044497&4294967295,E=C+(I<<21&4294967295|I>>>11),I=y+(C^(E|~P))+T[8]+1873313359&4294967295,y=E+(I<<6&4294967295|I>>>26),I=P+(E^(y|~C))+T[15]+4264355552&4294967295,P=y+(I<<10&4294967295|I>>>22),I=C+(y^(P|~E))+T[6]+2734768916&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~y))+T[13]+1309151649&4294967295,E=C+(I<<21&4294967295|I>>>11),I=y+(C^(E|~P))+T[4]+4149444226&4294967295,y=E+(I<<6&4294967295|I>>>26),I=P+(E^(y|~C))+T[11]+3174756917&4294967295,P=y+(I<<10&4294967295|I>>>22),I=C+(y^(P|~E))+T[2]+718787259&4294967295,C=P+(I<<15&4294967295|I>>>17),I=E+(P^(C|~y))+T[9]+3951481745&4294967295,w.g[0]=w.g[0]+y&4294967295,w.g[1]=w.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+P&4294967295}r.prototype.u=function(w,y){y===void 0&&(y=w.length);for(var E=y-this.blockSize,T=this.B,C=this.h,P=0;P<y;){if(C==0)for(;P<=E;)i(this,w,P),P+=this.blockSize;if(typeof w=="string"){for(;P<y;)if(T[C++]=w.charCodeAt(P++),C==this.blockSize){i(this,T),C=0;break}}else for(;P<y;)if(T[C++]=w[P++],C==this.blockSize){i(this,T),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var y=1;y<w.length-8;++y)w[y]=0;var E=8*this.o;for(y=w.length-8;y<w.length;++y)w[y]=E&255,E/=256;for(this.u(w),w=Array(16),y=E=0;4>y;++y)for(var T=0;32>T;T+=8)w[E++]=this.g[y]>>>T&255;return w};function o(w,y){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=y(w)}function l(w,y){this.h=y;for(var E=[],T=!0,C=w.length-1;0<=C;C--){var P=w[C]|0;T&&P==y||(E[C]=P,T=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(y){return new l([y|0],0>y?-1:0)}):new l([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return m;if(0>w)return O(h(-w));for(var y=[],E=1,T=0;w>=E;T++)y[T]=w/E|0,E*=4294967296;return new l(y,0)}function f(w,y){if(w.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(w.charAt(0)=="-")return O(f(w.substring(1),y));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(y,8)),T=m,C=0;C<w.length;C+=8){var P=Math.min(8,w.length-C),I=parseInt(w.substring(C,C+P),y);8>P?(P=h(Math.pow(y,P)),T=T.j(P).add(h(I))):(T=T.j(E),T=T.add(h(I)))}return T}var m=u(0),g=u(1),x=u(16777216);t=l.prototype,t.m=function(){if(R(this))return-O(this).m();for(var w=0,y=1,E=0;E<this.g.length;E++){var T=this.i(E);w+=(0<=T?T:4294967296+T)*y,y*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(R(this))return"-"+O(this).toString(w);for(var y=h(Math.pow(w,6)),E=this,T="";;){var C=V(E,y).g;E=v(E,C.j(y));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=C,A(E))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var y=0;y<w.g.length;y++)if(w.g[y]!=0)return!1;return!0}function R(w){return w.h==-1}t.l=function(w){return w=v(this,w),R(w)?-1:A(w)?0:1};function O(w){for(var y=w.g.length,E=[],T=0;T<y;T++)E[T]=~w.g[T];return new l(E,~w.h).add(g)}t.abs=function(){return R(this)?O(this):this},t.add=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],T=0,C=0;C<=y;C++){var P=T+(this.i(C)&65535)+(w.i(C)&65535),I=(P>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);T=I>>>16,P&=65535,I&=65535,E[C]=I<<16|P}return new l(E,E[E.length-1]&-2147483648?-1:0)};function v(w,y){return w.add(O(y))}t.j=function(w){if(A(this)||A(w))return m;if(R(this))return R(w)?O(this).j(O(w)):O(O(this).j(w));if(R(w))return O(this.j(O(w)));if(0>this.l(x)&&0>w.l(x))return h(this.m()*w.m());for(var y=this.g.length+w.g.length,E=[],T=0;T<2*y;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<w.g.length;C++){var P=this.i(T)>>>16,I=this.i(T)&65535,gt=w.i(C)>>>16,Hn=w.i(C)&65535;E[2*T+2*C]+=I*Hn,_(E,2*T+2*C),E[2*T+2*C+1]+=P*Hn,_(E,2*T+2*C+1),E[2*T+2*C+1]+=I*gt,_(E,2*T+2*C+1),E[2*T+2*C+2]+=P*gt,_(E,2*T+2*C+2)}for(T=0;T<y;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=y;T<2*y;T++)E[T]=0;return new l(E,0)};function _(w,y){for(;(w[y]&65535)!=w[y];)w[y+1]+=w[y]>>>16,w[y]&=65535,y++}function S(w,y){this.g=w,this.h=y}function V(w,y){if(A(y))throw Error("division by zero");if(A(w))return new S(m,m);if(R(w))return y=V(O(w),y),new S(O(y.g),O(y.h));if(R(y))return y=V(w,O(y)),new S(O(y.g),y.h);if(30<w.g.length){if(R(w)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var E=g,T=y;0>=T.l(w);)E=b(E),T=b(T);var C=z(E,1),P=z(T,1);for(T=z(T,2),E=z(E,2);!A(T);){var I=P.add(T);0>=I.l(w)&&(C=C.add(E),P=I),T=z(T,1),E=z(E,1)}return y=v(w,C.j(y)),new S(C,y)}for(C=m;0<=w.l(y);){for(E=Math.max(1,Math.floor(w.m()/y.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=h(E),I=P.j(y);R(I)||0<I.l(w);)E-=T,P=h(E),I=P.j(y);A(P)&&(P=g),C=C.add(P),w=v(w,I)}return new S(C,w)}t.A=function(w){return V(this,w).h},t.and=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)&w.i(T);return new l(E,this.h&w.h)},t.or=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)|w.i(T);return new l(E,this.h|w.h)},t.xor=function(w){for(var y=Math.max(this.g.length,w.g.length),E=[],T=0;T<y;T++)E[T]=this.i(T)^w.i(T);return new l(E,this.h^w.h)};function b(w){for(var y=w.g.length+1,E=[],T=0;T<y;T++)E[T]=w.i(T)<<1|w.i(T-1)>>>31;return new l(E,w.h)}function z(w,y){var E=y>>5;y%=32;for(var T=w.g.length-E,C=[],P=0;P<T;P++)C[P]=0<y?w.i(P+E)>>>y|w.i(P+E+1)<<32-y:w.i(P+E);return new l(C,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=f,xh=l}).apply(typeof Sp<"u"?Sp:typeof self<"u"?self:typeof window<"u"?window:{});var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,$i,tv,Hs,dc,nv,rv,iv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,d){return s==Array.prototype||s==Object.prototype||(s[c]=d.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cs=="object"&&Cs];for(var c=0;c<s.length;++c){var d=s[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(s,c){if(c)e:{var d=r;s=s.split(".");for(var p=0;p<s.length-1;p++){var k=s[p];if(!(k in d))break e;d=d[k]}s=s[s.length-1],p=d[s],c=c(p),c!=p&&c!=null&&e(d,s,{configurable:!0,writable:!0,value:c})}}function o(s,c){s instanceof String&&(s+="");var d=0,p=!1,k={next:function(){if(!p&&d<s.length){var N=d++;return{value:c(N,s[N]),done:!1}}return p=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(s){return s||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},a=this||self;function u(s){var c=typeof s;return c=c!="object"?c:s?Array.isArray(s)?"array":c:"null",c=="array"||c=="object"&&typeof s.length=="number"}function h(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function f(s,c,d){return s.call.apply(s.bind,arguments)}function m(s,c,d){if(!s)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,p),s.apply(c,k)}}return function(){return s.apply(c,arguments)}}function g(s,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function x(s,c){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),s.apply(this,p)}}function A(s,c){function d(){}d.prototype=c.prototype,s.aa=c.prototype,s.prototype=new d,s.prototype.constructor=s,s.Qb=function(p,k,N){for(var U=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)U[ie-2]=arguments[ie];return c.prototype[k].apply(p,U)}}function R(s){const c=s.length;if(0<c){const d=Array(c);for(let p=0;p<c;p++)d[p]=s[p];return d}return[]}function O(s,c){for(let d=1;d<arguments.length;d++){const p=arguments[d];if(u(p)){const k=s.length||0,N=p.length||0;s.length=k+N;for(let U=0;U<N;U++)s[k+U]=p[U]}else s.push(p)}}class v{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function _(s){return/^[\s\xa0]*$/.test(s)}function S(){var s=a.navigator;return s&&(s=s.userAgent)?s:""}function V(s){return V[" "](s),s}V[" "]=function(){};var b=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function z(s,c,d){for(const p in s)c.call(d,s[p],p,s)}function w(s,c){for(const d in s)c.call(void 0,s[d],d,s)}function y(s){const c={};for(const d in s)c[d]=s[d];return c}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(s,c){let d,p;for(let k=1;k<arguments.length;k++){p=arguments[k];for(d in p)s[d]=p[d];for(let N=0;N<E.length;N++)d=E[N],Object.prototype.hasOwnProperty.call(p,d)&&(s[d]=p[d])}}function C(s){var c=1;s=s.split(":");const d=[];for(;0<c&&s.length;)d.push(s.shift()),c--;return s.length&&d.push(s.join(":")),d}function P(s){a.setTimeout(()=>{throw s},0)}function I(){var s=Q;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class gt{constructor(){this.h=this.g=null}add(c,d){const p=Hn.get();p.set(c,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Hn=new v(()=>new pi,s=>s.reset());class pi{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,$=!1,Q=new gt,G=()=>{const s=a.Promise.resolve(void 0);Ht=()=>{s.then(de)}};var de=()=>{for(var s;s=I();){try{s.h.call(s.g)}catch(d){P(d)}var c=Hn;c.j(s),100>c.h&&(c.h++,s.next=c.g,c.g=s)}$=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Wt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const d=()=>{};a.addEventListener("test",d,c),a.removeEventListener("test",d,c)}catch{}return s}();function Qt(s,c){if(Ee.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var d=this.type=s.type,p=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(b){e:{try{V(c.nodeName);var k=!0;break e}catch{}k=!1}k||(c=null)}}else d=="mouseover"?c=s.fromElement:d=="mouseout"&&(c=s.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:Gt[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Qt.aa.h.call(this)}}A(Qt,Ee);var Gt={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),c0=0;function h0(s,c,d,p,k){this.listener=s,this.proxy=null,this.src=c,this.type=d,this.capture=!!p,this.ha=k,this.key=++c0,this.da=this.fa=!1}function Bo(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Ho(s){this.src=s,this.g={},this.h=0}Ho.prototype.add=function(s,c,d,p,k){var N=s.toString();s=this.g[N],s||(s=this.g[N]=[],this.h++);var U=ca(s,c,p,k);return-1<U?(c=s[U],d||(c.fa=!1)):(c=new h0(c,this.src,N,!!p,k),c.fa=d,s.push(c)),c};function ua(s,c){var d=c.type;if(d in s.g){var p=s.g[d],k=Array.prototype.indexOf.call(p,c,void 0),N;(N=0<=k)&&Array.prototype.splice.call(p,k,1),N&&(Bo(c),s.g[d].length==0&&(delete s.g[d],s.h--))}}function ca(s,c,d,p){for(var k=0;k<s.length;++k){var N=s[k];if(!N.da&&N.listener==c&&N.capture==!!d&&N.ha==p)return k}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),da={};function Kh(s,c,d,p,k){if(Array.isArray(c)){for(var N=0;N<c.length;N++)Kh(s,c[N],d,p,k);return null}return d=Yh(d),s&&s[Kt]?s.K(c,d,h(p)?!!p.capture:!!p,k):d0(s,c,d,!1,p,k)}function d0(s,c,d,p,k,N){if(!c)throw Error("Invalid event type");var U=h(k)?!!k.capture:!!k,ie=pa(s);if(ie||(s[ha]=ie=new Ho(s)),d=ie.add(c,d,p,U,N),d.proxy)return d;if(p=f0(),d.proxy=p,p.src=s,p.listener=d,s.addEventListener)Wt||(k=U),k===void 0&&(k=!1),s.addEventListener(c.toString(),p,k);else if(s.attachEvent)s.attachEvent(Xh(c.toString()),p);else if(s.addListener&&s.removeListener)s.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function f0(){function s(d){return c.call(s.src,s.listener,d)}const c=p0;return s}function qh(s,c,d,p,k){if(Array.isArray(c))for(var N=0;N<c.length;N++)qh(s,c[N],d,p,k);else p=h(p)?!!p.capture:!!p,d=Yh(d),s&&s[Kt]?(s=s.i,c=String(c).toString(),c in s.g&&(N=s.g[c],d=ca(N,d,p,k),-1<d&&(Bo(N[d]),Array.prototype.splice.call(N,d,1),N.length==0&&(delete s.g[c],s.h--)))):s&&(s=pa(s))&&(c=s.g[c.toString()],s=-1,c&&(s=ca(c,d,p,k)),(d=-1<s?c[s]:null)&&fa(d))}function fa(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[Kt])ua(c.i,s);else{var d=s.type,p=s.proxy;c.removeEventListener?c.removeEventListener(d,p,s.capture):c.detachEvent?c.detachEvent(Xh(d),p):c.addListener&&c.removeListener&&c.removeListener(p),(d=pa(c))?(ua(d,s),d.h==0&&(d.src=null,c[ha]=null)):Bo(s)}}}function Xh(s){return s in da?da[s]:da[s]="on"+s}function p0(s,c){if(s.da)s=!0;else{c=new Qt(c,this);var d=s.listener,p=s.ha||s.src;s.fa&&fa(s),s=d.call(p,c)}return s}function pa(s){return s=s[ha],s instanceof Ho?s:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(s){return typeof s=="function"?s:(s[ma]||(s[ma]=function(c){return s.handleEvent(c)}),s[ma])}function Ue(){re.call(this),this.i=new Ho(this),this.M=this,this.F=null}A(Ue,re),Ue.prototype[Kt]=!0,Ue.prototype.removeEventListener=function(s,c,d,p){qh(this,s,c,d,p)};function Xe(s,c){var d,p=s.F;if(p)for(d=[];p;p=p.F)d.push(p);if(s=s.M,p=c.type||c,typeof c=="string")c=new Ee(c,s);else if(c instanceof Ee)c.target=c.target||s;else{var k=c;c=new Ee(p,s),T(c,k)}if(k=!0,d)for(var N=d.length-1;0<=N;N--){var U=c.g=d[N];k=Wo(U,p,!0,c)&&k}if(U=c.g=s,k=Wo(U,p,!0,c)&&k,k=Wo(U,p,!1,c)&&k,d)for(N=0;N<d.length;N++)U=c.g=d[N],k=Wo(U,p,!1,c)&&k}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var s=this.i,c;for(c in s.g){for(var d=s.g[c],p=0;p<d.length;p++)Bo(d[p]);delete s.g[c],s.h--}}this.F=null},Ue.prototype.K=function(s,c,d,p){return this.i.add(String(s),c,!1,d,p)},Ue.prototype.L=function(s,c,d,p){return this.i.add(String(s),c,!0,d,p)};function Wo(s,c,d,p){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();for(var k=!0,N=0;N<c.length;++N){var U=c[N];if(U&&!U.da&&U.capture==d){var ie=U.listener,De=U.ha||U.src;U.fa&&ua(s.i,U),k=ie.call(De,p)!==!1&&k}}return k&&!p.defaultPrevented}function Jh(s,c,d){if(typeof s=="function")d&&(s=g(s,d));else if(s&&typeof s.handleEvent=="function")s=g(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:a.setTimeout(s,c||0)}function Zh(s){s.g=Jh(()=>{s.g=null,s.i&&(s.i=!1,Zh(s))},s.l);const c=s.h;s.h=null,s.m.apply(null,c)}class m0 extends re{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Zh(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(s){re.call(this),this.h=s,this.g={}}A(mi,re);var ed=[];function td(s){z(s.g,function(c,d){this.g.hasOwnProperty(d)&&fa(c)},s),s.g={}}mi.prototype.N=function(){mi.aa.N.call(this),td(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=a.JSON.stringify,g0=a.JSON.parse,y0=class{stringify(s){return a.JSON.stringify(s,void 0)}parse(s){return a.JSON.parse(s,void 0)}};function ya(){}ya.prototype.h=null;function nd(s){return s.h||(s.h=s.i())}function rd(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function va(){Ee.call(this,"d")}A(va,Ee);function _a(){Ee.call(this,"c")}A(_a,Ee);var Wn={},id=null;function Qo(){return id=id||new Ue}Wn.La="serverreachability";function od(s){Ee.call(this,Wn.La,s)}A(od,Ee);function yi(s){const c=Qo();Xe(c,new od(c))}Wn.STAT_EVENT="statevent";function sd(s,c){Ee.call(this,Wn.STAT_EVENT,s),this.stat=c}A(sd,Ee);function Ye(s){const c=Qo();Xe(c,new sd(c,s))}Wn.Ma="timingevent";function ld(s,c){Ee.call(this,Wn.Ma,s),this.size=c}A(ld,Ee);function vi(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){s()},c)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function v0(s,c,d,p,k,N){s.info(function(){if(s.g)if(N)for(var U="",ie=N.split("&"),De=0;De<ie.length;De++){var te=ie[De].split("=");if(1<te.length){var ze=te[0];te=te[1];var $e=ze.split("_");U=2<=$e.length&&$e[1]=="type"?U+(ze+"="+te+"&"):U+(ze+"=redacted&")}}else U=null;else U=N;return"XMLHTTP REQ ("+p+") [attempt "+k+"]: "+c+`
`+d+`
`+U})}function _0(s,c,d,p,k,N,U){s.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+k+"]: "+c+`
`+d+`
`+N+" "+U})}function Er(s,c,d,p){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+w0(s,d)+(p?" "+p:"")})}function E0(s,c){s.info(function(){return"TIMEOUT: "+c})}_i.prototype.info=function(){};function w0(s,c){if(!s.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(s=0;s<d.length;s++)if(Array.isArray(d[s])){var p=d[s];if(!(2>p.length)){var k=p[1];if(Array.isArray(k)&&!(1>k.length)){var N=k[0];if(N!="noop"&&N!="stop"&&N!="close")for(var U=1;U<k.length;U++)k[U]=""}}}}return ga(d)}catch{return c}}var Go={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ad={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ea;function Ko(){}A(Ko,ya),Ko.prototype.g=function(){return new XMLHttpRequest},Ko.prototype.i=function(){return{}},Ea=new Ko;function pn(s,c,d,p){this.j=s,this.i=c,this.l=d,this.R=p||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ud}function ud(){this.i=null,this.g="",this.h=!1}var cd={},wa={};function Ta(s,c,d){s.L=1,s.v=Jo(qt(c)),s.m=d,s.P=!0,hd(s,null)}function hd(s,c){s.F=Date.now(),qo(s),s.A=qt(s.v);var d=s.A,p=s.R;Array.isArray(p)||(p=[String(p)]),Cd(d.i,"t",p),s.C=0,d=s.j.J,s.h=new ud,s.g=Bd(s.j,d?c:null,!s.m),0<s.O&&(s.M=new m0(g(s.Y,s,s.g),s.O)),c=s.U,d=s.g,p=s.ca;var k="readystatechange";Array.isArray(k)||(k&&(ed[0]=k.toString()),k=ed);for(var N=0;N<k.length;N++){var U=Kh(d,k[N],p||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=s.H?y(s.H):{},s.m?(s.u||(s.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,c)):(s.u="GET",s.g.ea(s.A,s.u,null,c)),yi(),v0(s.i,s.u,s.A,s.l,s.R,s.m)}pn.prototype.ca=function(s){s=s.target;const c=this.M;c&&Xt(s)==3?c.j():this.Y(s)},pn.prototype.Y=function(s){try{if(s==this.g)e:{const $e=Xt(this.g);var c=this.g.Ba();const Sr=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||Dd(this.g)))){this.J||$e!=4||c==7||(c==8||0>=Sr?yi(3):yi(2)),Sa(this);var d=this.g.Z();this.X=d;t:if(dd(this)){var p=Dd(this.g);s="";var k=p.length,N=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Ei(this);var U="";break t}this.h.i=new a.TextDecoder}for(c=0;c<k;c++)this.h.h=!0,s+=this.h.i.decode(p[c],{stream:!(N&&c==k-1)});p.length=0,this.h.g+=s,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,_0(this.i,this.u,this.A,this.l,this.R,$e,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ie,De=this.g;if((ie=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ie)){var te=ie;break t}}te=null}if(d=te)Er(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,d);else{this.o=!1,this.s=3,Ye(12),Qn(this),Ei(this);break e}}if(this.P){d=!0;let St;for(;!this.J&&this.C<U.length;)if(St=T0(this,U),St==wa){$e==4&&(this.s=4,Ye(14),d=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(St==cd){this.s=4,Ye(15),Er(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else Er(this.i,this.l,St,null),Ia(this,St);if(dd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||U.length!=0||this.h.h||(this.s=1,Ye(16),d=!1),this.o=this.o&&d,!d)Er(this.i,this.l,U,"[Invalid Chunked Response]"),Qn(this),Ei(this);else if(0<U.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Pa(ze),ze.M=!0,Ye(11))}}else Er(this.i,this.l,U,null),Ia(this,U);$e==4&&Qn(this),this.o&&!this.J&&($e==4?bd(this.j,this):(this.o=!1,qo(this)))}else b0(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),Qn(this),Ei(this)}}}catch{}finally{}};function dd(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function T0(s,c){var d=s.C,p=c.indexOf(`
`,d);return p==-1?wa:(d=Number(c.substring(d,p)),isNaN(d)?cd:(p+=1,p+d>c.length?wa:(c=c.slice(p,p+d),s.C=p+d,c)))}pn.prototype.cancel=function(){this.J=!0,Qn(this)};function qo(s){s.S=Date.now()+s.I,fd(s,s.I)}function fd(s,c){if(s.B!=null)throw Error("WatchDog timer not null");s.B=vi(g(s.ba,s),c)}function Sa(s){s.B&&(a.clearTimeout(s.B),s.B=null)}pn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(E0(this.i,this.A),this.L!=2&&(yi(),Ye(17)),Qn(this),this.s=2,Ei(this)):fd(this,this.S-s)};function Ei(s){s.j.G==0||s.J||bd(s.j,s)}function Qn(s){Sa(s);var c=s.M;c&&typeof c.ma=="function"&&c.ma(),s.M=null,td(s.U),s.g&&(c=s.g,s.g=null,c.abort(),c.ma())}function Ia(s,c){try{var d=s.j;if(d.G!=0&&(d.g==s||Ca(d.h,s))){if(!s.K&&Ca(d.h,s)&&d.G==3){try{var p=d.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var k=p;if(k[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<s.F)is(d),ns(d);else break e;ka(d),Ye(18)}}else d.za=k[1],0<d.za-d.T&&37500>k[2]&&d.F&&d.v==0&&!d.C&&(d.C=vi(g(d.Za,d),6e3));if(1>=gd(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Kn(d,11)}else if((s.K||d.g==s)&&is(d),!_(c))for(k=d.Da.g.parse(c),c=0;c<k.length;c++){let te=k[c];if(d.T=te[0],te=te[1],d.G==2)if(te[0]=="c"){d.K=te[1],d.ia=te[2];const ze=te[3];ze!=null&&(d.la=ze,d.j.info("VER="+d.la));const $e=te[4];$e!=null&&(d.Aa=$e,d.j.info("SVER="+d.Aa));const Sr=te[5];Sr!=null&&typeof Sr=="number"&&0<Sr&&(p=1.5*Sr,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;const St=s.g;if(St){const ss=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var N=p.h;N.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Aa(N,N.h),N.h=null))}if(p.D){const Na=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(p.ya=Na,le(p.I,p.D,Na))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-s.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var U=s;if(p.qa=$d(p,p.J?p.ia:null,p.W),U.K){yd(p.h,U);var ie=U,De=p.L;De&&(ie.I=De),ie.B&&(Sa(ie),qo(ie)),p.g=U}else Fd(p);0<d.i.length&&rs(d)}else te[0]!="stop"&&te[0]!="close"||Kn(d,7);else d.G==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?Kn(d,7):Ra(d):te[0]!="noop"&&d.l&&d.l.ta(te),d.v=0)}}yi(4)}catch{}}var S0=class{constructor(s,c){this.g=s,this.map=c}};function pd(s){this.l=s||10,a.PerformanceNavigationTiming?(s=a.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function md(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function gd(s){return s.h?1:s.g?s.g.size:0}function Ca(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function Aa(s,c){s.g?s.g.add(c):s.h=c}function yd(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}pd.prototype.cancel=function(){if(this.i=vd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function vd(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let c=s.i;for(const d of s.g.values())c=c.concat(d.D);return c}return R(s.i)}function I0(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var c=[],d=s.length,p=0;p<d;p++)c.push(s[p]);return c}c=[],d=0;for(p in s)c[d++]=s[p];return c}function C0(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var c=[];s=s.length;for(var d=0;d<s;d++)c.push(d);return c}c=[],d=0;for(const p in s)c[d++]=p;return c}}}function _d(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,c,void 0);else for(var d=C0(s),p=I0(s),k=p.length,N=0;N<k;N++)c.call(void 0,p[N],d&&d[N],s)}var Ed=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A0(s,c){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var p=s[d].indexOf("="),k=null;if(0<=p){var N=s[d].substring(0,p);k=s[d].substring(p+1)}else N=s[d];c(N,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Gn(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Gn){this.h=s.h,Xo(this,s.j),this.o=s.o,this.g=s.g,Yo(this,s.s),this.l=s.l;var c=s.i,d=new Si;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),wd(this,d),this.m=s.m}else s&&(c=String(s).match(Ed))?(this.h=!1,Xo(this,c[1]||"",!0),this.o=wi(c[2]||""),this.g=wi(c[3]||"",!0),Yo(this,c[4]),this.l=wi(c[5]||"",!0),wd(this,c[6]||"",!0),this.m=wi(c[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}Gn.prototype.toString=function(){var s=[],c=this.j;c&&s.push(Ti(c,Td,!0),":");var d=this.g;return(d||c=="file")&&(s.push("//"),(c=this.o)&&s.push(Ti(c,Td,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&s.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&s.push("/"),s.push(Ti(d,d.charAt(0)=="/"?k0:R0,!0))),(d=this.i.toString())&&s.push("?",d),(d=this.m)&&s.push("#",Ti(d,N0)),s.join("")};function qt(s){return new Gn(s)}function Xo(s,c,d){s.j=d?wi(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Yo(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.s=c}else s.s=null}function wd(s,c,d){c instanceof Si?(s.i=c,D0(s.i,s.h)):(d||(c=Ti(c,P0)),s.i=new Si(c,s.h))}function le(s,c,d){s.i.set(c,d)}function Jo(s){return le(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function wi(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Ti(s,c,d){return typeof s=="string"?(s=encodeURI(s).replace(c,x0),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function x0(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Td=/[#\/\?@]/g,R0=/[#\?:]/g,k0=/[#\?]/g,P0=/[#\?@]/g,N0=/#/g;function Si(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function mn(s){s.g||(s.g=new Map,s.h=0,s.i&&A0(s.i,function(c,d){s.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=Si.prototype,t.add=function(s,c){mn(this),this.i=null,s=wr(this,s);var d=this.g.get(s);return d||this.g.set(s,d=[]),d.push(c),this.h+=1,this};function Sd(s,c){mn(s),c=wr(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function Id(s,c){return mn(s),c=wr(s,c),s.g.has(c)}t.forEach=function(s,c){mn(this),this.g.forEach(function(d,p){d.forEach(function(k){s.call(c,k,p,this)},this)},this)},t.na=function(){mn(this);const s=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let p=0;p<c.length;p++){const k=s[p];for(let N=0;N<k.length;N++)d.push(c[p])}return d},t.V=function(s){mn(this);let c=[];if(typeof s=="string")Id(this,s)&&(c=c.concat(this.g.get(wr(this,s))));else{s=Array.from(this.g.values());for(let d=0;d<s.length;d++)c=c.concat(s[d])}return c},t.set=function(s,c){return mn(this),this.i=null,s=wr(this,s),Id(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},t.get=function(s,c){return s?(s=this.V(s),0<s.length?String(s[0]):c):c};function Cd(s,c,d){Sd(s,c),0<d.length&&(s.i=null,s.g.set(wr(s,c),R(d)),s.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var p=c[d];const N=encodeURIComponent(String(p)),U=this.V(p);for(p=0;p<U.length;p++){var k=N;U[p]!==""&&(k+="="+encodeURIComponent(String(U[p]))),s.push(k)}}return this.i=s.join("&")};function wr(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function D0(s,c){c&&!s.j&&(mn(s),s.i=null,s.g.forEach(function(d,p){var k=p.toLowerCase();p!=k&&(Sd(this,p),Cd(this,k,d))},s)),s.j=c}function V0(s,c){const d=new _i;if(a.Image){const p=new Image;p.onload=x(gn,d,"TestLoadImage: loaded",!0,c,p),p.onerror=x(gn,d,"TestLoadImage: error",!1,c,p),p.onabort=x(gn,d,"TestLoadImage: abort",!1,c,p),p.ontimeout=x(gn,d,"TestLoadImage: timeout",!1,c,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=s}else c(!1)}function O0(s,c){const d=new _i,p=new AbortController,k=setTimeout(()=>{p.abort(),gn(d,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:p.signal}).then(N=>{clearTimeout(k),N.ok?gn(d,"TestPingServer: ok",!0,c):gn(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(k),gn(d,"TestPingServer: error",!1,c)})}function gn(s,c,d,p,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),p(d)}catch{}}function L0(){this.g=new y0}function M0(s,c,d){const p=d||"";try{_d(s,function(k,N){let U=k;h(k)&&(U=ga(k)),c.push(p+N+"="+encodeURIComponent(U))})}catch(k){throw c.push(p+"type="+encodeURIComponent("_badmap")),k}}function Zo(s){this.l=s.Ub||null,this.j=s.eb||!1}A(Zo,ya),Zo.prototype.g=function(){return new es(this.l,this.j)},Zo.prototype.i=function(s){return function(){return s}}({});function es(s,c){Ue.call(this),this.D=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(es,Ue),t=es.prototype,t.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=c,this.readyState=1,Ci(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(c.body=s),(this.D||a).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ad(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ad(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?Ii(this):Ci(this),this.readyState==3&&Ad(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,Ii(this))},t.Qa=function(s){this.g&&(this.response=s,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(s){s.readyState=4,s.l=null,s.j=null,s.v=null,Ci(s)}t.setRequestHeader=function(s,c){this.u.append(s,c)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=c.next();return s.join(`\r
`)};function Ci(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function xd(s){let c="";return z(s,function(d,p){c+=p,c+=":",c+=d,c+=`\r
`}),c}function xa(s,c,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=xd(d),typeof s=="string"?d!=null&&encodeURIComponent(String(d)):le(s,c,d))}function ge(s){Ue.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(ge,Ue);var F0=/^https?$/i,j0=["POST","PUT"];t=ge.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,c,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ea.g(),this.v=this.o?nd(this.o):nd(Ea),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(N){Rd(this,N);return}if(s=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var k in p)d.set(k,p[k]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const N of p.keys())d.set(N,p.get(N));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find(N=>N.toLowerCase()=="content-type"),k=a.FormData&&s instanceof a.FormData,!(0<=Array.prototype.indexOf.call(j0,c,void 0))||p||k||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,U]of d)this.g.setRequestHeader(N,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Nd(this),this.u=!0,this.g.send(s),this.u=!1}catch(N){Rd(this,N)}};function Rd(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.m=5,kd(s),ts(s)}function kd(s){s.A||(s.A=!0,Xe(s,"complete"),Xe(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,Xe(this,"complete"),Xe(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pd(this):this.bb())},t.bb=function(){Pd(this)};function Pd(s){if(s.h&&typeof l<"u"&&(!s.v[1]||Xt(s)!=4||s.Z()!=2)){if(s.u&&Xt(s)==4)Jh(s.Ea,0,s);else if(Xe(s,"readystatechange"),Xt(s)==4){s.h=!1;try{const U=s.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var p;if(p=U===0){var k=String(s.D).match(Ed)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),p=!F0.test(k?k.toLowerCase():"")}d=p}if(d)Xe(s,"complete"),Xe(s,"success");else{s.m=6;try{var N=2<Xt(s)?s.g.statusText:""}catch{N=""}s.l=N+" ["+s.Z()+"]",kd(s)}}finally{ts(s)}}}}function ts(s,c){if(s.g){Nd(s);const d=s.g,p=s.v[0]?()=>{}:null;s.g=null,s.v=null,c||Xe(s,"ready");try{d.onreadystatechange=p}catch{}}}function Nd(s){s.I&&(a.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Xt(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),g0(c)}};function Dd(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function b0(s){const c={};s=(s.g&&2<=Xt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<s.length;p++){if(_(s[p]))continue;var d=C(s[p]);const k=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const N=c[k]||[];c[k]=N,N.push(d)}w(c,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(s,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[s]||c}function Vd(s){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ai("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ai("baseRetryDelayMs",5e3,s),this.cb=Ai("retryDelaySeedMs",1e4,s),this.Wa=Ai("forwardChannelMaxRetries",2,s),this.wa=Ai("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new pd(s&&s.concurrentRequestLimit),this.Da=new L0,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Vd.prototype,t.la=8,t.G=1,t.connect=function(s,c,d,p){Ye(0),this.W=s,this.H=c||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=$d(this,null,this.W),rs(this)};function Ra(s){if(Od(s),s.G==3){var c=s.U++,d=qt(s.I);if(le(d,"SID",s.K),le(d,"RID",c),le(d,"TYPE","terminate"),xi(s,d),c=new pn(s,s.j,c),c.L=2,c.v=Jo(qt(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&a.Image&&(new Image().src=c.v,d=!0),d||(c.g=Bd(c.j,null),c.g.ea(c.v)),c.F=Date.now(),qo(c)}zd(s)}function ns(s){s.g&&(Pa(s),s.g.cancel(),s.g=null)}function Od(s){ns(s),s.u&&(a.clearTimeout(s.u),s.u=null),is(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&a.clearTimeout(s.s),s.s=null)}function rs(s){if(!md(s.h)&&!s.s){s.s=!0;var c=s.Ga;Ht||G(),$||(Ht(),$=!0),Q.add(c,s),s.B=0}}function U0(s,c){return gd(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=c.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=vi(g(s.Ga,s,c),Ud(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const k=new pn(this,this.j,s);let N=this.o;if(this.S&&(N?(N=y(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(k.H=N,N=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=Md(this,k,c),d=qt(this.I),le(d,"RID",s),le(d,"CVER",22),this.D&&le(d,"X-HTTP-Session-Id",this.D),xi(this,d),N&&(this.O?c="headers="+encodeURIComponent(String(xd(N)))+"&"+c:this.m&&xa(d,this.m,N)),Aa(this.h,k),this.Ua&&le(d,"TYPE","init"),this.P?(le(d,"$req",c),le(d,"SID","null"),k.T=!0,Ta(k,d,null)):Ta(k,d,c),this.G=2}}else this.G==3&&(s?Ld(this,s):this.i.length==0||md(this.h)||Ld(this))};function Ld(s,c){var d;c?d=c.l:d=s.U++;const p=qt(s.I);le(p,"SID",s.K),le(p,"RID",d),le(p,"AID",s.T),xi(s,p),s.m&&s.o&&xa(p,s.m,s.o),d=new pn(s,s.j,d,s.B+1),s.m===null&&(d.H=s.o),c&&(s.i=c.D.concat(s.i)),c=Md(s,d,1e3),d.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),Aa(s.h,d),Ta(d,p,c)}function xi(s,c){s.H&&z(s.H,function(d,p){le(c,p,d)}),s.l&&_d({},function(d,p){le(c,p,d)})}function Md(s,c,d){d=Math.min(s.i.length,d);var p=s.l?g(s.l.Na,s.l,s):null;e:{var k=s.i;let N=-1;for(;;){const U=["count="+d];N==-1?0<d?(N=k[0].g,U.push("ofs="+N)):N=0:U.push("ofs="+N);let ie=!0;for(let De=0;De<d;De++){let te=k[De].g;const ze=k[De].map;if(te-=N,0>te)N=Math.max(0,k[De].g-100),ie=!1;else try{M0(ze,U,"req"+te+"_")}catch{p&&p(ze)}}if(ie){p=U.join("&");break e}}}return s=s.i.splice(0,d),c.D=s,p}function Fd(s){if(!s.g&&!s.u){s.Y=1;var c=s.Fa;Ht||G(),$||(Ht(),$=!0),Q.add(c,s),s.v=0}}function ka(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=vi(g(s.Fa,s),Ud(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=vi(g(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),ns(this),jd(this))};function Pa(s){s.A!=null&&(a.clearTimeout(s.A),s.A=null)}function jd(s){s.g=new pn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var c=qt(s.qa);le(c,"RID","rpc"),le(c,"SID",s.K),le(c,"AID",s.T),le(c,"CI",s.F?"0":"1"),!s.F&&s.ja&&le(c,"TO",s.ja),le(c,"TYPE","xmlhttp"),xi(s,c),s.m&&s.o&&xa(c,s.m,s.o),s.L&&(s.g.I=s.L);var d=s.g;s=s.ia,d.L=1,d.v=Jo(qt(c)),d.m=null,d.P=!0,hd(d,s)}t.Za=function(){this.C!=null&&(this.C=null,ns(this),ka(this),Ye(19))};function is(s){s.C!=null&&(a.clearTimeout(s.C),s.C=null)}function bd(s,c){var d=null;if(s.g==c){is(s),Pa(s),s.g=null;var p=2}else if(Ca(s.h,c))d=c.D,yd(s.h,c),p=1;else return;if(s.G!=0){if(c.o)if(p==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var k=s.B;p=Qo(),Xe(p,new ld(p,d)),rs(s)}else Fd(s);else if(k=c.s,k==3||k==0&&0<c.X||!(p==1&&U0(s,c)||p==2&&ka(s)))switch(d&&0<d.length&&(c=s.h,c.i=c.i.concat(d)),k){case 1:Kn(s,5);break;case 4:Kn(s,10);break;case 3:Kn(s,6);break;default:Kn(s,2)}}}function Ud(s,c){let d=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(d*=2),d*c}function Kn(s,c){if(s.j.info("Error code "+c),c==2){var d=g(s.fb,s),p=s.Xa;const k=!p;p=new Gn(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xo(p,"https"),Jo(p),k?V0(p.toString(),d):O0(p.toString(),d)}else Ye(2);s.G=0,s.l&&s.l.sa(c),zd(s),Od(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function zd(s){if(s.G=0,s.ka=[],s.l){const c=vd(s.h);(c.length!=0||s.i.length!=0)&&(O(s.ka,c),O(s.ka,s.i),s.h.i.length=0,R(s.i),s.i.length=0),s.l.ra()}}function $d(s,c,d){var p=d instanceof Gn?qt(d):new Gn(d);if(p.g!="")c&&(p.g=c+"."+p.g),Yo(p,p.s);else{var k=a.location;p=k.protocol,c=c?c+"."+k.hostname:k.hostname,k=+k.port;var N=new Gn(null);p&&Xo(N,p),c&&(N.g=c),k&&Yo(N,k),d&&(N.l=d),p=N}return d=s.D,c=s.ya,d&&c&&le(p,d,c),le(p,"VER",s.la),xi(s,p),p}function Bd(s,c,d){if(c&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Ca&&!s.pa?new ge(new Zo({eb:d})):new ge(s.pa),c.Ha(s.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hd(){}t=Hd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function os(){}os.prototype.g=function(s,c){return new ut(s,c)};function ut(s,c){Ue.call(this),this.g=new Vd(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(s?s["X-WebChannel-Client-Profile"]=c.va:s={"X-WebChannel-Client-Profile":c.va}),this.g.S=s,(s=c&&c.Sb)&&!_(s)&&(this.g.m=s),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!_(c)&&(this.g.D=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new Tr(this)}A(ut,Ue),ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ut.prototype.close=function(){Ra(this.g)},ut.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var d={};d.__data__=s,s=d}else this.u&&(d={},d.__data__=ga(s),s=d);c.i.push(new S0(c.Ya++,s)),c.G==3&&rs(c)},ut.prototype.N=function(){this.g.l=null,delete this.j,Ra(this.g),delete this.g,ut.aa.N.call(this)};function Wd(s){va.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){e:{for(const d in c){s=d;break e}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}A(Wd,va);function Qd(){_a.call(this),this.status=1}A(Qd,_a);function Tr(s){this.g=s}A(Tr,Hd),Tr.prototype.ua=function(){Xe(this.g,"a")},Tr.prototype.ta=function(s){Xe(this.g,new Wd(s))},Tr.prototype.sa=function(s){Xe(this.g,new Qd)},Tr.prototype.ra=function(){Xe(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,ut.prototype.send=ut.prototype.o,ut.prototype.open=ut.prototype.m,ut.prototype.close=ut.prototype.close,iv=function(){return new os},rv=function(){return Qo()},nv=Wn,dc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Go.NO_ERROR=0,Go.TIMEOUT=8,Go.HTTP_ERROR=6,Hs=Go,ad.COMPLETE="complete",tv=ad,rd.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,$i=rd,ge.prototype.listenOnce=ge.prototype.L,ge.prototype.getLastError=ge.prototype.Ka,ge.prototype.getLastErrorCode=ge.prototype.Ba,ge.prototype.getStatus=ge.prototype.Z,ge.prototype.getResponseJson=ge.prototype.Oa,ge.prototype.getResponseText=ge.prototype.oa,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Ha,ev=ge}).apply(typeof Cs<"u"?Cs:typeof self<"u"?self:typeof window<"u"?window:{});const Ip="@firebase/firestore",Cp="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let di="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Ky("@firebase/firestore");function Cr(){return hr.logLevel}function H(t,...e){if(hr.logLevel<=J.DEBUG){const n=e.map(Rh);hr.debug(`Firestore (${di}): ${t}`,...n)}}function dr(t,...e){if(hr.logLevel<=J.ERROR){const n=e.map(Rh);hr.error(`Firestore (${di}): ${t}`,...n)}}function ea(t,...e){if(hr.logLevel<=J.WARN){const n=e.map(Rh);hr.warn(`Firestore (${di}): ${t}`,...n)}}function Rh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ov(t,r,n)}function ov(t,e,n){let r=`FIRESTORE (${di}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ov(e,i,r)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}}class QS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GS{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ir,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new sv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class KS{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qS{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ap{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,RS(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,H("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ap(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ap(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=YS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function fc(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Z(r,i);{const o=JS(),l=ZS(o.encode(xp(t,n)),o.encode(xp(e,n)));return l!==0?l:Z(r,i)}}n+=r>65535?2:1}return Z(t.length,e.length)}function xp(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function ZS(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Z(t[n],e[n]);return Z(t.length,e.length)}function ei(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-62135596800,kp=1e6;class Ne{static now(){return Ne.fromMillis(Date.now())}static fromDate(e){return Ne.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kp);return new Ne(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rp)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kp}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Ne(0,0))}static max(){return new ce(new Ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="__name__";class Ft{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ft.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ft?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Ft.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Z(e.length,n.length)}static compareSegments(e,n){const r=Ft.isNumericId(e),i=Ft.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Ft.extractNumericId(e).compare(Ft.extractNumericId(n)):fc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xh.fromString(e.substring(4,e.length-2))}}class ve extends Ft{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const eI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Me extends Ft{construct(e,n,r){return new Me(e,n,r)}static isValidIdentifier(e){return eI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Me.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pp}static keyField(){return new Me([Pp])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(l=!l,i++):a!=="."||l?(r+=a,i++):(o(),i++)}if(o(),l)throw new W(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Me(n)}static emptyPath(){return new Me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ve.fromString(e))}static fromName(e){return new K(ve.fromString(e).popFirst(5))}static empty(){return new K(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function tI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Ne(n+1,0):new Ne(n,r));return new Fn(i,K.empty(),e)}function nI(t){return new Fn(t.readTime,t.key,Co)}class Fn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fn(ce.min(),K.empty(),Co)}static max(){return new Fn(ce.max(),K.empty(),Co)}}function rI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==iI)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let i=0,o=0,l=!1;e.forEach(a=>{++i,a.next(()=>{++o,l&&o===i&&n()},u=>r(u))}),l=!0,o===i&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new M((r,i)=>{const o=e.length,l=new Array(o);let a=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{l[h]=f,++a,a===o&&r(l)},f=>i(f))}})}static doWhile(e,n){return new M((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function sI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=-1;function Dh(t){return t==null}function Sl(t){return t===0&&1/t==-1/0}function lI(t){return typeof t=="number"&&Number.isInteger(t)&&!Sl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="";function aI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Np(e)),e=uI(t.get(n),e);return Np(e)}function uI(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case av:n+="";break;default:n+=o}}return n}function Np(t){return t+av+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Oe.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oe.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new As(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new As(this.root,e,this.comparator,!1)}getReverseIterator(){return new As(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new As(this.root,e,this.comparator,!0)}}class As{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oe{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Oe.RED,this.left=i??Oe.EMPTY,this.right=o??Oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Oe(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Oe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}}Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1;Oe.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Oe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vp(this.data.getIterator())}getIteratorFrom(e){return new Vp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class Vp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.fields=e,e.sort(Me.comparator)}static empty(){return new Pt([])}unionWith(e){let n=new je(Me.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ei(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cI("Invalid base64 string: "+o):o}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const hI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=hI.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="server_timestamp",hv="__type__",dv="__previous_value__",fv="__local_write_time__";function Vh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[hv])===null||n===void 0?void 0:n.stringValue)===cv}function Oh(t){const e=t.mapValue.fields[dv];return Vh(e)?Oh(e):e}function Il(t){const e=fr(t.mapValue.fields[fv].timestampValue);return new Ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,o,l,a,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const Cl="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||Cl}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===Cl}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__type__",mv="__max__",xs={mapValue:{fields:{__type__:{stringValue:mv}}}},gv="__vector__",pc="value";function pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vh(t)?4:pI(t)?9007199254740991:fI(t)?10:11:q(28295,{value:t})}function $t(t,e){if(t===e)return!0;const n=pr(t);if(n!==pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=fr(i.timestampValue),a=fr(o.timestampValue);return l.seconds===a.seconds&&l.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ti(i.bytesValue).isEqual(ti(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Le(i.geoPointValue.latitude)===Le(o.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Le(i.integerValue)===Le(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Le(i.doubleValue),a=Le(o.doubleValue);return l===a?Sl(l)===Sl(a):isNaN(l)&&isNaN(a)}return!1}(t,e);case 9:return ei(t.arrayValue.values||[],e.arrayValue.values||[],$t);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Dp(l)!==Dp(a))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(a[u]===void 0||!$t(l[u],a[u])))return!1;return!0}(t,e);default:return q(52216,{left:t})}}function Ao(t,e){return(t.values||[]).find(n=>$t(n,e))!==void 0}function ni(t,e){if(t===e)return 0;const n=pr(t),r=pr(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(o,l){const a=Le(o.integerValue||o.doubleValue),u=Le(l.integerValue||l.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Op(t.timestampValue,e.timestampValue);case 4:return Op(Il(t),Il(e));case 5:return fc(t.stringValue,e.stringValue);case 6:return function(o,l){const a=ti(o),u=ti(l);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const a=o.split("/"),u=l.split("/");for(let h=0;h<a.length&&h<u.length;h++){const f=Z(a[h],u[h]);if(f!==0)return f}return Z(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const a=Z(Le(o.latitude),Le(l.latitude));return a!==0?a:Z(Le(o.longitude),Le(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lp(t.arrayValue,e.arrayValue);case 10:return function(o,l){var a,u,h,f;const m=o.fields||{},g=l.fields||{},x=(a=m[pc])===null||a===void 0?void 0:a.arrayValue,A=(u=g[pc])===null||u===void 0?void 0:u.arrayValue,R=Z(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((f=A==null?void 0:A.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:Lp(x,A)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===xs.mapValue&&l===xs.mapValue)return 0;if(o===xs.mapValue)return 1;if(l===xs.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),h=l.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=fc(u[m],f[m]);if(g!==0)return g;const x=ni(a[u[m]],h[f[m]]);if(x!==0)return x}return Z(u.length,f.length)}(t.mapValue,e.mapValue);default:throw q(23264,{Pe:n})}}function Op(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=fr(t),r=fr(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Lp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ni(n[i],r[i]);if(o)return o}return Z(n.length,r.length)}function ri(t){return mc(t)}function mc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=mc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${mc(n.fields[l])}`;return i+"}"}(t.mapValue):q(61005,{value:t})}function Ws(t){switch(pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(t);return e?16+Ws(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ws(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fi(r.fields,(o,l)=>{i+=o.length+Ws(l)}),i}(t.mapValue);default:throw q(13486,{value:t})}}function gc(t){return!!t&&"integerValue"in t}function Lh(t){return!!t&&"arrayValue"in t}function Qs(t){return!!t&&"mapValue"in t}function fI(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pv])===null||n===void 0?void 0:n.stringValue)===gv}function Zi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===mv}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qs(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zi(n)}setAll(e){let n=Me.emptyPath(),r={},i=[];e.forEach((l,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}l?r[a.lastSegment()]=Zi(l):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Qs(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $t(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kt(Zi(this.value))}}function yv(t){const e=[];return fi(t.fields,(n,r)=>{const i=new Me([n]);if(Qs(r)){const o=yv(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Pt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,o,l,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,ce.min(),ce.min(),ce.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,ce.min(),ce.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,ce.min(),ce.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.position=e,this.inclusive=n}}function Mp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(l.referenceValue),n.key):r=ni(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$t(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function mI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class ke extends vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yI(e,n,r):n==="array-contains"?new EI(e,r):n==="in"?new wI(e,r):n==="not-in"?new TI(e,r):n==="array-contains-any"?new SI(e,r):new ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vI(e,r):new _I(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ni(n,this.value)):n!==null&&pr(this.value)===pr(n)&&this.matchesComparison(ni(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends vv{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new jn(e,n)}matches(e){return _v(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function _v(t){return t.op==="and"}function Ev(t){return gI(t)&&_v(t)}function gI(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function yc(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+ri(t.value);if(Ev(t))return t.filters.map(e=>yc(e)).join(",");{const e=t.filters.map(n=>yc(n)).join(",");return`${t.op}(${e})`}}function wv(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&$t(r.value,i.value)}(t,e):t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,a)=>o&&wv(l,i.filters[a]),!0):!1}(t,e):void q(19439)}function Tv(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${ri(n.value)}`}(t):t instanceof jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Tv).join(" ,")+"}"}(t):"Filter"}class yI extends ke{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class vI extends ke{constructor(e,n){super(e,"in",n),this.keys=Sv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _I extends ke{constructor(e,n){super(e,"not-in",n),this.keys=Sv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class EI extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&Ao(n.arrayValue,this.value)}}class wI extends ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ao(this.value.arrayValue,n)}}class TI extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ao(this.value.arrayValue,n)}}class SI extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ao(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n=null,r=[],i=[],o=null,l=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=a,this.Ie=null}}function jp(t,e=null,n=[],r=[],i=null,o=null,l=null){return new II(t,e,n,r,i,o,l)}function Mh(t){const e=se(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ri(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ri(r)).join(",")),e.Ie=n}return e.Ie}function Fh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fp(t.startAt,e.startAt)&&Fp(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n=null,r=[],i=[],o=null,l="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function CI(t,e,n,r,i,o,l,a){return new ta(t,e,n,r,i,o,l,a)}function AI(t){return new ta(t)}function bp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xI(t){return t.collectionGroup!==null}function eo(t){const e=se(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let a=new je(Me.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Rl(o,r))}),n.has(Me.keyField().canonicalString())||e.Ee.push(new Rl(Me.keyField(),r))}return e.Ee}function or(t){const e=se(t);return e.de||(e.de=RI(e,eo(t))),e.de}function RI(t,e){if(t.limitType==="F")return jp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Rl(i.field,o)});const n=t.endAt?new xl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xl(t.startAt.position,t.startAt.inclusive):null;return jp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vc(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Iv(t,e){return Fh(or(t),or(e))&&t.limitType===e.limitType}function Cv(t){return`${Mh(or(t))}|lt:${t.limitType}`}function Fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Tv(i)).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ri(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ri(i)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of eo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,a,u){const h=Mp(l,a,u);return l.inclusive?h<=0:h<0}(r.startAt,eo(r),i)||r.endAt&&!function(l,a,u){const h=Mp(l,a,u);return l.inclusive?h>=0:h>0}(r.endAt,eo(r),i))}(t,e)}function kI(t){return(e,n)=>{let r=!1;for(const i of eo(t)){const o=PI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function PI(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,l,a){const u=l.data.field(o),h=a.data.field(o);return u!==null&&h!==null?ni(u,h):q(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return uv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new at(K.comparator);function kl(){return NI}const Av=new at(K.comparator);function Rs(...t){let e=Av;for(const n of t)e=e.insert(n.key,n);return e}function xv(t){let e=Av;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function tr(){return to()}function Rv(){return to()}function to(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}const DI=new at(K.comparator),VI=new je(K.comparator);function Ke(...t){let e=VI;for(const n of t)e=e.add(n);return e}const OI=new je(Z);function LI(){return OI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sl(e)?"-0":e}}function kv(t){return{integerValue:""+t}}function MI(t,e){return lI(e)?kv(e):bh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this._=void 0}}function FI(t,e,n){return t instanceof Pl?function(i,o){const l={fields:{[hv]:{stringValue:cv},[fv]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Vh(o)&&(o=Oh(o)),o&&(l.fields[dv]=o),{mapValue:l}}(n,e):t instanceof xo?Nv(t,e):t instanceof Ro?Dv(t,e):function(i,o){const l=Pv(i,o),a=Up(l)+Up(i.Re);return gc(l)&&gc(i.Re)?kv(a):bh(i.serializer,a)}(t,e)}function jI(t,e,n){return t instanceof xo?Nv(t,e):t instanceof Ro?Dv(t,e):n}function Pv(t,e){return t instanceof Nl?function(r){return gc(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Pl extends na{}class xo extends na{constructor(e){super(),this.elements=e}}function Nv(t,e){const n=Vv(e);for(const r of t.elements)n.some(i=>$t(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ro extends na{constructor(e){super(),this.elements=e}}function Dv(t,e){let n=Vv(e);for(const r of t.elements)n=n.filter(i=>!$t(i,r));return{arrayValue:{values:n}}}class Nl extends na{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Up(t){return Le(t.integerValue||t.doubleValue)}function Vv(t){return Lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bI(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xo&&i instanceof xo||r instanceof Ro&&i instanceof Ro?ei(r.elements,i.elements,$t):r instanceof Nl&&i instanceof Nl?$t(r.Re,i.Re):r instanceof Pl&&i instanceof Pl}(t.transform,e.transform)}class UI{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gs(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ra{}function Ov(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mv(t.key,rn.none()):new bo(t.key,t.data,rn.none());{const n=t.data,r=kt.empty();let i=new je(Me.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new _r(t.key,r,new Pt(i.toArray()),rn.none())}}function zI(t,e,n){t instanceof bo?function(i,o,l){const a=i.value.clone(),u=$p(i.fieldTransforms,o,l.transformResults);a.setAll(u),o.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _r?function(i,o,l){if(!Gs(i.precondition,o))return void o.convertToUnknownDocument(l.version);const a=$p(i.fieldTransforms,o,l.transformResults),u=o.data;u.setAll(Lv(i)),u.setAll(a),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function no(t,e,n,r){return t instanceof bo?function(o,l,a,u){if(!Gs(o.precondition,l))return a;const h=o.value.clone(),f=Bp(o.fieldTransforms,u,l);return h.setAll(f),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof _r?function(o,l,a,u){if(!Gs(o.precondition,l))return a;const h=Bp(o.fieldTransforms,u,l),f=l.data;return f.setAll(Lv(o)),f.setAll(h),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,l,a){return Gs(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):a}(t,e,n)}function $I(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Pv(r.transform,i||null);o!=null&&(n===null&&(n=kt.empty()),n.set(r.field,o))}return n||null}function zp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ei(r,i,(o,l)=>bI(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bo extends ra{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _r extends ra{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $p(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,a=e.data.field(o.field);r.set(o.field,jI(l,a,n[i]))}return r}function Bp(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,FI(o,l,e))}return r}class Mv extends ra{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BI extends ra{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&zI(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=no(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=no(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Rv();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let a=this.applyToLocalView(l,o.mutatedFields);a=n.has(i.key)?null:a;const u=Ov(l,a);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ke())}isEqual(e){return this.batchId===e.batchId&&ei(this.mutations,e.mutations,(n,r)=>zp(n,r))&&ei(this.baseMutations,e.baseMutations,(n,r)=>zp(n,r))}}class Uh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return DI}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Uh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Y;function QI(t){switch(t){case j.OK:return q(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return q(15467,{code:t})}}function GI(t){if(t===void 0)return dr("GRPC error has no .code"),j.UNKNOWN;switch(t){case Te.OK:return j.OK;case Te.CANCELLED:return j.CANCELLED;case Te.UNKNOWN:return j.UNKNOWN;case Te.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Te.INTERNAL:return j.INTERNAL;case Te.UNAVAILABLE:return j.UNAVAILABLE;case Te.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Te.NOT_FOUND:return j.NOT_FOUND;case Te.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Te.ABORTED:return j.ABORTED;case Te.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Te.DATA_LOSS:return j.DATA_LOSS;default:return q(39323,{code:t})}}(Y=Te||(Te={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new xh([4294967295,4294967295],0);class KI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XI(t,e){return _c(t,e.toTimestamp())}function Qr(t){return _e(!!t,49232),ce.fromTimestamp(function(n){const r=fr(n);return new Ne(r.seconds,r.nanos)}(t))}function Fv(t,e){return Ec(t,e).canonicalString()}function Ec(t,e){const n=function(i){return new ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function YI(t){const e=ve.fromString(t);return _e(o2(e),10190,{key:e.toString()}),e}function wc(t,e){return Fv(t.databaseId,e.path)}function JI(t){const e=YI(t);return e.length===4?ve.emptyPath():e2(e)}function ZI(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e2(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Hp(t,e,n){return{name:wc(t,e),fields:n.value.mapValue.fields}}function t2(t,e){let n;if(e instanceof bo)n={update:Hp(t,e.key,e.value)};else if(e instanceof Mv)n={delete:wc(t,e.key)};else if(e instanceof _r)n={update:Hp(t,e.key,e.data),updateMask:i2(e.fieldMask)};else{if(!(e instanceof BI))return q(16599,{ft:e.type});n={verify:wc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const a=l.transform;if(a instanceof Pl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ro)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nl)return{fieldPath:l.field.canonicalString(),increment:a.Re};throw q(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:XI(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)}(t,e.precondition)),n}function n2(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?Qr(i.updateTime):Qr(o);return l.isEqual(ce.min())&&(l=Qr(o)),new UI(l,i.transformResults||[])}(n,e))):[]}function r2(t){let e=JI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){const g=jv(m);return g instanceof jn&&Ev(g)?g.getFilters():[g]}(n.where));let l=[];n.orderBy&&(l=function(m){return m.map(g=>function(A){return new Rl(Ar(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,Dh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,x=m.values||[];return new xl(x,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,x=m.values||[];return new xl(x,g)}(n.endAt)),CI(e,i,l,o,a,"F",u,h)}function jv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ar(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ar(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ar(n.unaryFilter.field);return ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ar(n.unaryFilter.field);return ke.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(t):t.fieldFilter!==void 0?function(n){return ke.create(Ar(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jn.create(n.compositeFilter.filters.map(r=>jv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(n.compositeFilter.op))}(t):q(30097,{filter:t})}function Ar(t){return Me.fromServerFormat(t.fieldPath)}function i2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.wt=e}}function l2(t){const e=r2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Cn=new u2}addToCollectionParentIndex(e,n){return this.Cn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Fn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Fn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class u2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bv=41943040;class nt{static withCacheSize(e){return new nt(e,nt.DEFAULT_COLLECTION_PERCENTILE,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nt.DEFAULT_COLLECTION_PERCENTILE=10,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nt.DEFAULT=new nt(bv,nt.DEFAULT_COLLECTION_PERCENTILE,nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nt.DISABLED=new nt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ii(0)}static lr(){return new ii(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="LruGarbageCollector",c2=1048576;function Gp([t,e],[n,r]){const i=Z(t,n);return i===0?Z(e,r):i}class h2{constructor(e){this.Er=e,this.buffer=new je(Gp),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Gp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){H(Qp,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?H(Qp,"Ignoring IndexedDB error during garbage collection: ",n):await kh(n)}await this.mr(3e5)})}}class f2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(Ph.le);const r=new h2(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(Wp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wp):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,l,a,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(o=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Cr()<=J.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-f}ms
	Determined least recently used ${i} in `+(a-l)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m})))}}function p2(t,e){return new f2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&no(r.mutation,i,Pt.empty(),Ne.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ke()){const i=tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Rs();return o.forEach((a,u)=>{l=l.insert(a,u.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=tr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ke()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,a)=>{n.set(l,a)})})}computeViews(e,n,r,i){let o=kl();const l=to(),a=function(){return to()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof _r)?o=o.insert(h.key,h):f!==void 0?(l.set(h.key,f.mutation.getFieldMask()),no(f.mutation,h,f.mutation.getFieldMask(),Ne.now())):l.set(h.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>l.set(h,f)),n.forEach((h,f)=>{var m;return a.set(h,new g2(f,(m=l.get(h))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=to();let i=new at((l,a)=>l-a),o=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const a of l)a.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||Pt.empty();f=a.applyToLocalView(h,f),r.set(u,f);const m=(i.get(a.batchId)||Ke()).add(u);i=i.insert(a.batchId,m)})}).next(()=>{const l=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,f=u.value,m=Rv();f.forEach(g=>{if(!o.has(g)){const x=Ov(n.get(g),r.get(g));x!==null&&m.set(g,x),o=o.add(g)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return M.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return K.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(tr());let a=Co,u=o;return l.next(h=>M.forEach(h,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),o.get(f)?M.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,Ke())).next(f=>({batchId:a,changes:xv(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=Rs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Rs();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{const h=function(m,g){return new ta(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,g)=>{l=l.insert(m,g)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((u,h)=>{const f=h.getKey();l.get(f)===null&&(l=l.insert(f,Rt.newInvalidDocument(f)))});let a=Rs();return l.forEach((u,h)=>{const f=o.get(u);f!==void 0&&no(f.mutation,h,Pt.empty(),Ne.now()),jh(n,h)&&(a=a.insert(u,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return M.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:l2(i.bundledQuery),readTime:Qr(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.overlays=new at(K.comparator),this.Qr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tr();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const i=tr(),o=n.length+1,l=new K(n.child("")),a=this.overlays.getIteratorFrom(l);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new at((h,f)=>h-f);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=tr(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const a=tr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>a.set(h,f)),!(a.size()>=i)););return M.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new WI(n,r));let o=this.Qr.get(n);o===void 0&&(o=Ke(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.$r=new je(xe.Ur),this.Kr=new je(xe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new xe(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new xe(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new K(new ve([])),r=new xe(n,e),i=new xe(n,e+1),o=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),o.push(l.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new K(new ve([])),r=new xe(n,e),i=new xe(n,e+1);let o=Ke();return this.Kr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new xe(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xe{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return K.comparator(e.key,n.key)||Z(e.Zr,n.Zr)}static Wr(e,n){return Z(e.Zr,n.Zr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new je(xe.Ur)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new HI(o,n,r,i);this.mutationQueue.push(l);for(const a of i)this.Xr=this.Xr.add(new xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(l)}lookupMutationBatch(e,n){return M.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?Nh:this.nr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xe(n,0),i=new xe(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],l=>{const a=this.ei(l.Zr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(Z);return n.forEach(i=>{const o=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,l],a=>{r=r.add(a.Zr)})}),M.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const l=new xe(new K(o),0);let a=new je(Z);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(u.Zr)),!0)},l),M.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return M.forEach(n.mutations,i=>{const o=new xe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new xe(n,0),i=this.Xr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.ii=e,this.docs=function(){return new at(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=kl();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=kl();const l=n.path,a=new K(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||rI(nI(f),r)<=0||(i.has(f.key)||jh(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){q(9500)}si(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new S2(this)}getSize(e){return M.resolve(this.size)}}class S2 extends m2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.persistence=e,this.oi=new vr(n=>Mh(n),Fh),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this._i=0,this.ai=new zh,this.targetCount=0,this.ui=ii.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),M.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new ii(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Tr(n),M.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.oi.forEach((l,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(l),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.ci={},this.overlays={},this.li=new Ph(0),this.hi=!1,this.hi=!0,this.Pi=new E2,this.referenceDelegate=e(this),this.Ti=new I2(this),this.indexManager=new a2,this.remoteDocumentCache=function(i){return new T2(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new s2(n),this.Ei=new v2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new w2(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new C2(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return M.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class C2 extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class $h{constructor(e){this.persistence=e,this.Vi=new zh,this.mi=null}static fi(e){return new $h(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),M.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.gi,r=>{const i=K.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return M.or([()=>M.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Dl{constructor(e,n){this.persistence=e,this.yi=new vr(r=>aI(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=p2(this,n)}static fi(e,n){return new Dl(e,n)}di(){}Ai(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return M.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,n).next(a=>{a||(r++,o.removeEntry(l,ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),M.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ws(e.data.value)),n}Dr(e,n,r){return M.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=Ke(),i=Ke();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return CT()?8:sI(ST())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ws(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Ss(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new A2;return this.bs(e,n,l).next(a=>{if(o.result=a,this.fs)return this.Ds(e,n,l,a.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(Cr()<=J.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),M.resolve()):(Cr()<=J.DEBUG&&H("QueryEngine","Query:",Fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Cr()<=J.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):M.resolve())}ws(e,n){if(bp(n))return M.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vc(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Ke(...o);return this.ys.getDocuments(e,l).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.vs(n,a);return this.Cs(n,h,l,u.readTime)?this.ws(e,vc(n,null,"F")):this.Fs(e,h,n,u)}))})))}Ss(e,n,r,i){return bp(n)||i.isEqual(ce.min())?M.resolve(null):this.ys.getDocuments(e,r).next(o=>{const l=this.vs(n,o);return this.Cs(n,l,r,i)?M.resolve(null):(Cr()<=J.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fi(n)),this.Fs(e,l,n,tI(i,Co)).next(a=>a))})}vs(e,n){let r=new je(kI(e));return n.forEach((i,o)=>{jh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,n,r){return Cr()<=J.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Fi(n)),this.ys.getDocumentsMatchingQuery(e,n,Fn.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="LocalStore";class k2{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new at(Z),this.Os=new vr(o=>Mh(o),Fh),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function P2(t,e,n,r){return new k2(t,e,n,r)}async function zv(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],a=[];let u=Ke();for(const h of i){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:a}))})})}function N2(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,h,f){const m=h.batch,g=m.keys();let x=M.resolve();return g.forEach(A=>{x=x.next(()=>f.getEntry(u,A)).next(R=>{const O=h.docVersions.get(A);_e(O!==null,48541),R.version.compareTo(O)<0&&(m.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),f.addEntry(R)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ke();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function D2(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function V2(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Nh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Kp{constructor(){this.activeTargetIds=LI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(){this.xo=new Kp,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Kp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="ConnectivityMonitor";class Xp{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){H(qp,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){H(qp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks=null;function Tc(){return ks===null?ks=function(){return 268435456+Math.round(2147483648*Math.random())}():ks++,"0x"+ks.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="RestConnection",M2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Cl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){const l=Tc(),a=this.jo(e,n.toUriEncodedString());H(cu,`Sending RPC '${e}' ${l}:`,a,r);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);const{host:h}=new URL(a),f=Ch(h);return this.Jo(e,a,u,r,f).then(m=>(H(cu,`Received RPC '${e}' ${l}: `,m),m),m=>{throw ea(cu,`RPC '${e}' ${l} failed with error: `,m,"url: ",a,"request:",r),m})}Yo(e,n,r,i,o,l){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+di}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){const r=M2[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class b2 extends F2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=Tc();return new Promise((a,u)=>{const h=new ev;h.setWithCredentials(!0),h.listenOnce(tv.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Hs.NO_ERROR:const m=h.getResponseJson();H(We,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),a(m);break;case Hs.TIMEOUT:H(We,`RPC '${e}' ${l} timed out`),u(new W(j.DEADLINE_EXCEEDED,"Request time out"));break;case Hs.HTTP_ERROR:const g=h.getStatus();if(H(We,`RPC '${e}' ${l} failed with status:`,g,"response text:",h.getResponseText()),g>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const R=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(A.status);u(new W(R,A.message))}else u(new W(j.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new W(j.UNAVAILABLE,"Connection failed."));break;default:q(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(We,`RPC '${e}' ${l} completed.`)}});const f=JSON.stringify(i);H(We,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",f,r,15)})}T_(e,n,r){const i=Tc(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iv(),a=rv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");H(We,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=l.createWebChannel(f,u);let g=!1,x=!1;const A=new j2({Zo:O=>{x?H(We,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(g||(H(We,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),H(We,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},Xo:()=>m.close()}),R=(O,v,_)=>{O.listen(v,S=>{try{_(S)}catch(V){setTimeout(()=>{throw V},0)}})};return R(m,$i.EventType.OPEN,()=>{x||(H(We,`RPC '${e}' stream ${i} transport opened.`),A.__())}),R(m,$i.EventType.CLOSE,()=>{x||(x=!0,H(We,`RPC '${e}' stream ${i} transport closed`),A.u_())}),R(m,$i.EventType.ERROR,O=>{x||(x=!0,ea(We,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),A.u_(new W(j.UNAVAILABLE,"The operation could not be completed")))}),R(m,$i.EventType.MESSAGE,O=>{var v;if(!x){const _=O.data[0];_e(!!_,16349);const S=_,V=(S==null?void 0:S.error)||((v=S[0])===null||v===void 0?void 0:v.error);if(V){H(We,`RPC '${e}' stream ${i} received error:`,V);const b=V.status;let z=function(E){const T=Te[E];if(T!==void 0)return GI(T)}(b),w=V.message;z===void 0&&(z=j.INTERNAL,w="Unknown error status: "+b+" with message "+V.message),x=!0,A.u_(new W(z,w)),m.close()}else H(We,`RPC '${e}' stream ${i} received:`,_),A.c_(_)}}),R(a,nv.STAT_EVENT,O=>{O.stat===dc.PROXY?H(We,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===dc.NOPROXY&&H(We,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}}function hu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){return new KI(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="PersistentStream";class U2{constructor(e,n,r,i,o,l,a,u){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new $v(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new W(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return H(Yp,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(H(Yp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z2 extends U2{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=n2(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=ZI(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t2(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{}class B2 extends $2{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.zo(e,Ec(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(j.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,a])=>this.connection.Yo(e,Ec(n,r),i,l,a,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new W(j.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class H2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(dr(n),this.oa=!1):H("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class W2{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(l=>{r.enqueueAndForget(async()=>{$o(this)&&(H(Uo,"Restarting streams for network reachability change."),await async function(u){const h=se(u);h.Ta.add(4),await zo(h),h.da.set("Unknown"),h.Ta.delete(4),await oa(h)}(this))})}),this.da=new H2(r,i)}}async function oa(t){if($o(t))for(const e of t.Ia)await e(!0)}async function zo(t){for(const e of t.Ia)await e(!1)}function $o(t){return se(t).Ta.size===0}async function Bv(t,e,n){if(!jo(e))throw e;t.Ta.add(1),await zo(t),t.da.set("Offline"),n||(n=()=>D2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Uo,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await oa(t)})}function Hv(t,e){return e().catch(n=>Bv(t,n,e))}async function sa(t){const e=se(t),n=bn(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Nh;for(;Q2(e);)try{const i=await V2(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,G2(e,i)}catch(i){await Bv(e,i)}Wv(e)&&Qv(e)}function Q2(t){return $o(t)&&t.ha.length<10}function G2(t,e){t.ha.push(e);const n=bn(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function Wv(t){return $o(t)&&!bn(t).F_()&&t.ha.length>0}function Qv(t){bn(t).start()}async function K2(t){bn(t).ta()}async function q2(t){const e=bn(t);for(const n of t.ha)e.Z_(n.mutations)}async function X2(t,e,n){const r=t.ha.shift(),i=Uh.from(r,e,n);await Hv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sa(t)}async function Y2(t,e){e&&bn(t).Y_&&await async function(r,i){if(function(l){return QI(l)&&l!==j.ABORTED}(i.code)){const o=r.ha.shift();bn(r).O_(),await Hv(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await sa(r)}}(t,e),Wv(t)&&Qv(t)}async function Jp(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),H(Uo,"RemoteStore received new credentials");const r=$o(n);n.Ta.add(3),await zo(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await oa(n)}async function J2(t,e){const n=se(t);e?(n.Ta.delete(2),await oa(n)):e||(n.Ta.add(2),await zo(n),n.da.set("Unknown"))}function bn(t){return t.Va||(t.Va=function(n,r,i){const o=se(n);return o.ra(),new z2(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:K2.bind(null,t),i_:Y2.bind(null,t),X_:q2.bind(null,t),ea:X2.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await sa(t)):(await t.Va.stop(),t.ha.length>0&&(H(Uo,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,a=new Hh(e,n,l,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(dr("AsyncQueue",`${e}: ${t}`),jo(t))return new W(j.UNAVAILABLE,`${e}: ${t}`);throw t}class Z2{constructor(){this.queries=Zp(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=se(n),o=i.queries;i.queries=Zp(),o.forEach((l,a)=>{for(const u of a.ya)u.onError(r)})})(this,new W(j.ABORTED,"Firestore shutting down"))}}function Zp(){return new vr(t=>Cv(t),Iv)}function eC(t){t.ba.forEach(e=>{e.next()})}var em,tm;(tm=em||(em={})).Ca="default",tm.Cache="cache";const tC="SyncEngine";class nC{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new vr(a=>Cv(a),Iv),this.cu=new Map,this.lu=new Set,this.hu=new at(K.comparator),this.Pu=new Map,this.Tu=new zh,this.Iu={},this.Eu=new Map,this.du=ii.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function rC(t,e,n){const r=lC(t);try{const i=await function(l,a){const u=se(l),h=Ne.now(),f=a.reduce((x,A)=>x.add(A.key),Ke());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=kl(),R=Ke();return u.Bs.getEntries(x,f).next(O=>{A=O,A.forEach((v,_)=>{_.isValidDocument()||(R=R.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,A)).next(O=>{m=O;const v=[];for(const _ of a){const S=$I(_,m.get(_.key).overlayedDocument);S!=null&&v.push(new _r(_.key,S,yv(S.value.mapValue),rn.exists(!0)))}return u.mutationQueue.addMutationBatch(x,h,v,a)}).next(O=>{g=O;const v=O.applyToLocalDocumentSet(m,R);return u.documentOverlayCache.saveOverlays(x,O.batchId,v)})}).then(()=>({batchId:g.batchId,changes:xv(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,a,u){let h=l.Iu[l.currentUser.toKey()];h||(h=new at(Z)),h=h.insert(a,u),l.Iu[l.currentUser.toKey()]=h}(r,i.batchId,n),await la(r,i.changes),await sa(r.remoteStore)}catch(i){const o=Gv(i,"Failed to persist write");n.reject(o)}}function nm(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((o,l)=>{const a=l.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(l,a){const u=se(l);u.onlineState=a;let h=!1;u.queries.forEach((f,m)=>{for(const g of m.ya)g.Da(a)&&(h=!0)}),h&&eC(u)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iC(t,e){const n=se(t),r=e.batch.batchId;try{const i=await N2(n.localStore,e);qv(n,r,null),Kv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await la(n,i)}catch(i){await kh(i)}}async function oC(t,e,n){const r=se(t);try{const i=await function(l,a){const u=se(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,a).next(m=>(_e(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(r.localStore,e);qv(r,e,n),Kv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await la(r,i)}catch(i){await kh(i)}}function Kv(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function qv(t,e,n){const r=se(t);let i=r.Iu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}async function la(t,e,n){const r=se(t),i=[],o=[],l=[];r.uu.isEmpty()||(r.uu.forEach((a,u)=>{l.push(r.Ru(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=void 0)===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=Bh.Rs(u.targetId,h);o.push(m)}}))}),await Promise.all(l),r.au.j_(i),await async function(u,h){const f=se(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>M.forEach(h,g=>M.forEach(g.ds,x=>f.persistence.referenceDelegate.addReference(m,g.targetId,x)).next(()=>M.forEach(g.As,x=>f.persistence.referenceDelegate.removeReference(m,g.targetId,x)))))}catch(m){if(!jo(m))throw m;H(R2,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const x=f.xs.get(g),A=x.snapshotVersion,R=x.withLastLimboFreeSnapshotVersion(A);f.xs=f.xs.insert(g,R)}}}(r.localStore,o))}async function sC(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){H(tC,"User change. New user:",e.toKey());const r=await zv(n.localStore,e);n.currentUser=e,function(o,l){o.Eu.forEach(a=>{a.forEach(u=>{u.reject(new W(j.CANCELLED,l))})}),o.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await la(n,r.ks)}}function lC(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oC.bind(null,e),e}class Vl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ia(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return P2(this.persistence,new x2,e.initialUser,this.serializer)}yu(e){return new Uv($h.fi,this.serializer)}pu(e){return new O2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vl.provider={build:()=>new Vl};class aC extends Vl{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){_e(this.persistence.referenceDelegate instanceof Dl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d2(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?nt.withCacheSize(this.cacheSizeBytes):nt.DEFAULT;return new Uv(r=>Dl.fi(r,n),this.serializer)}}class Sc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sC.bind(null,this.syncEngine),await J2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z2}()}createDatastore(e){const n=ia(e.databaseInfo.databaseId),r=function(o){return new b2(o)}(e.databaseInfo);return function(o,l,a,u){return new B2(o,l,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,a){return new W2(r,i,o,l,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nm(this.syncEngine,n,0),function(){return Xp.C()?new Xp:new L2}())}createSyncEngine(e,n){return function(i,o,l,a,u,h,f){const m=new nC(i,o,l,a,u,h);return f&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=se(i);H(Uo,"RemoteStore shutting down."),o.Ta.add(5),await zo(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Sc.provider={build:()=>new Sc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="FirestoreClient";class uC{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=lv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{H(Un,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(H(Un,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function du(t,e){t.asyncQueue.verifyOperationInProgress(),H(Un,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cC(t);H(Un,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jp(e.remoteStore,i)),t._onlineComponents=e}async function cC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Un,"Using user provided OfflineComponentProvider");try{await du(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await du(t,new Vl)}}else H(Un,"Using default OfflineComponentProvider"),await du(t,new aC(void 0));return t._offlineComponents}async function hC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Un,"Using user provided OnlineComponentProvider"),await rm(t,t._uninitializedComponentsProvider._online)):(H(Un,"Using default OnlineComponentProvider"),await rm(t,new Sc))),t._onlineComponents}function dC(t){return hC(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t,e,n){if(!n)throw new W(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fC(t,e,n,r){if(e===!0&&r===!0)throw new W(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function om(t){if(!K.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sm(t){if(K.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q(12329,{type:typeof t})}function Jv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(t);throw new W(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="firestore.googleapis.com",lm=!0;class am{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zv,this.ssl=lm}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c2)throw new W(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aa{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WS;switch(r.type){case"firstParty":return new qS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=im.get(n);r&&(H("ComponentProvider","Removing Datastore"),im.delete(n),r.terminate())}(this),Promise.resolve()}}function pC(t,e,n,r={}){var i;t=Jv(t,aa);const o=Ch(e),l=t._getSettings(),a=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(vT(`https://${u}`),TT("Firestore",!0)),l.host!==Zv&&l.host!==u&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:u,ssl:o,emulatorOptions:r});if(!El(h,a)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Qe.MOCK_USER;else{f=_T(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new W(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Qe(g)}t._authCredentials=new QS(new sv(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qh(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new On(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class On extends Qh{constructor(e,n,r){super(e,n,AI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new K(e))}withConverter(e){return new On(this.firestore,e,this._path)}}function mC(t,e,...n){if(t=To(t),Yv("collection","path",e),t instanceof aa){const r=ve.fromString(e,...n);return sm(r),new On(t,null,r)}{if(!(t instanceof on||t instanceof On))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return sm(r),new On(t.firestore,null,r)}}function gC(t,e,...n){if(t=To(t),arguments.length===1&&(e=lv.newId()),Yv("doc","path",e),t instanceof aa){const r=ve.fromString(e,...n);return om(r),new on(t,null,new K(r))}{if(!(t instanceof on||t instanceof On))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return om(r),new on(t.firestore,t instanceof On?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="AsyncQueue";class cm{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new $v(this,"async_queue_retry"),this.ec=()=>{const r=hu();r&&H(um,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=hu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=hu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ir;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!jo(e))throw e;H(um,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,dr("INTERNAL UNHANDLED ERROR: ",hm(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=Hh.createAndSchedule(this,e,n,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&q(47125,{_c:hm(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function hm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class e0 extends aa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cm(e),this._firestoreClient=void 0,await e}}}function yC(t,e){const n=typeof t=="object"?t:DS(),r=typeof t=="string"?t:Cl,i=xS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=gT("firestore");o&&pC(i,...o)}return i}function vC(t){if(t._terminated)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_C(t),t._firestoreClient}function _C(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,h,f){return new dI(a,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Xv(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uC(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(zt.fromBase64String(e))}catch(n){throw new W(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ko(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Me(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=/^__.*__$/;class wC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,n,this.fieldTransforms):new bo(e,this.data,n,this.fieldTransforms)}}function o0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{hc:t})}}class Gh{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Gh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ol(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(o0(this.hc)&&EC.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class TC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ia(e)}gc(e,n,r,i=!1){return new Gh({hc:e,methodName:n,fc:r,path:Me.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SC(t){const e=t._freezeSettings(),n=ia(t._databaseId);return new TC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IC(t,e,n,r,i,o={}){const l=t.gc(o.merge||o.mergeFields?2:0,e,n,i);u0("Data must be an object, but it was:",l,r);const a=l0(r,l);let u,h;if(o.merge)u=new Pt(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const f=[];for(const m of o.mergeFields){const g=CC(e,m,n);if(!l.contains(g))throw new W(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);RC(f,g)||f.push(g)}u=new Pt(f),h=l.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=l.fieldTransforms;return new wC(new kt(a),u,h)}function s0(t,e){if(a0(t=To(t)))return u0("Unsupported field value:",e,t),l0(t,e);if(t instanceof n0)return function(r,i){if(!o0(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const a of r){let u=s0(a,i.Rc(l));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=To(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return MI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ne.fromDate(r);return{timestampValue:_c(i.serializer,o)}}if(r instanceof Ne){const o=new Ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_c(i.serializer,o)}}if(r instanceof r0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:qI(i.serializer,r._byteString)};if(r instanceof on){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof i0)return function(l,a){return{mapValue:{fields:{[pv]:{stringValue:gv},[pc]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw a.Vc("VectorValues must only contain numeric values.");return bh(a.serializer,h)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${Wh(r)}`)}(t,e)}function l0(t,e){const n={};return uv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,(r,i)=>{const o=s0(i,e.Ic(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function a0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ne||t instanceof r0||t instanceof ko||t instanceof on||t instanceof n0||t instanceof i0)}function u0(t,e,n){if(!a0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Wh(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function CC(t,e,n){if((e=To(e))instanceof t0)return e._internalPath;if(typeof e=="string")return xC(t,e);throw Ol("Field path arguments must be of type string or ",t,!1,void 0,n)}const AC=new RegExp("[~\\*/\\[\\]]");function xC(t,e,n){if(e.search(AC)>=0)throw Ol(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t0(...e.split("."))._internalPath}catch{throw Ol(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ol(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||l)&&(u+=" (found",o&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new W(j.INVALID_ARGUMENT,a+t+u)}function RC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function PC(t,e){const n=Jv(t.firestore,e0),r=gC(t),i=kC(t.converter,e);return NC(n,[IC(SC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rn.exists(!1))]).then(()=>r)}function NC(t,e){return function(r,i){const o=new ir;return r.asyncQueue.enqueueAndForget(async()=>rC(await dC(r),i,o)),o.promise}(vC(t),e)}(function(e,n=!0){(function(i){di=i})(NS),Tl(new So("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),a=new e0(new GS(r.getProvider("auth-internal")),new XS(l,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new W(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(h.options.projectId,f)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Wr(Ip,Cp,e),Wr(Ip,Cp,"esm2017")})();const DC={apiKey:"AIzaSyDPNi8G9ifgYbxQOk3YEjFqOwJKwo-DwDE",authDomain:"pedido-helados-2ba1c.firebaseapp.com",projectId:"pedido-helados-2ba1c",storageBucket:"pedido-helados-2ba1c.firebasestorage.app",messagingSenderId:"1000641230235",appId:"1:1000641230235:web:bc5ef8260322f12beadd3e",measurementId:"G-6YP7ERH76X"},VC=yC(Yy(DC)),OC=()=>{const{customer:t,containerSize:e,selectedFlavors:n,createOrder:r,resetOrder:i,setCurrentStep:o}=ci(),[l,a]=L.useState(!1),[u,h]=L.useState(!1),f=r(),m=async()=>{a(!0);const A=n.map(S=>S.name).join(", "),R=t.deliveryType==="delivery"?`
*Dirección de entrega:* ${t.address}`:`
*Retiro por el local*`,O=`
*Nuevo Pedido de Helado*
-------------------
*Cliente:* ${t.name}
*Teléfono:* ${t.phone}
*Fecha:* ${hp(f.date)}
-------------------
*Tamaño:* ${e}
*Gustos:* ${A}
*Tipo de entrega:* ${t.deliveryType==="delivery"?"Delivery":"Retiro"}${R}
*Precio Total:* $${f.price}
-------------------
    `;try{await PC(mC(VC,"pedidos"),{nombre:t.name,telefono:t.phone,fecha:f.date,entrega:t.deliveryType,direccion:t.deliveryType==="delivery"?t.address:"",tamaño:e,gustos:n.map(S=>S.name),total:f.price}),console.log("Pedido guardado en Firebase")}catch(S){console.error("Error al guardar en Firebase:",S)}const v=encodeURIComponent(O),_=`https://wa.me/${qw}?text=${v}`;window.open(_,"_blank"),h(!0),a(!1)},g=()=>{o(3)},x=()=>{i(),h(!1)};return D.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto",children:u?D.jsxs("div",{className:"text-center py-8",children:[D.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:D.jsx($y,{className:"h-10 w-10 text-green-500"})}),D.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"¡Pedido Enviado!"}),D.jsx("p",{className:"text-gray-600 mb-6",children:"Tu pedido ha sido enviado por WhatsApp y guardado correctamente."}),D.jsx("button",{onClick:x,className:"px-6 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2",children:"Realizar Nuevo Pedido"})]}):D.jsxs(D.Fragment,{children:[D.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Resumen del Pedido"}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[D.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Información del Cliente"}),D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:"Nombre:"})," ",t.name]}),D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",t.phone]}),D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:"Fecha:"})," ",hp(f.date)]}),D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:"Tipo de entrega:"})," ",t.deliveryType==="delivery"?"Delivery":"Retiro por local"]}),t.deliveryType==="delivery"&&D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:"Dirección:"})," ",t.address]})]}),D.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[D.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Detalles del Pedido"}),D.jsxs("p",{children:[D.jsx("span",{className:"font-medium",children:"Tamaño del Helado:"})," ",e]}),D.jsxs("div",{className:"mt-2",children:[D.jsx("p",{className:"font-medium",children:"Gustos Seleccionados:"}),D.jsx("ul",{className:"list-disc list-inside mt-1 ml-2",children:n.map(A=>D.jsx("li",{children:A.name},A.id))})]})]}),D.jsxs("div",{className:"bg-pink-50 p-4 rounded-md border border-pink-200",children:[D.jsx("h3",{className:"text-lg font-medium text-pink-800 mb-2",children:"Total a Pagar"}),D.jsxs("p",{className:"text-2xl font-bold text-pink-600",children:["$",f.price.toLocaleString()]}),t.deliveryType==="delivery"&&D.jsx("p",{className:"text-sm text-pink-600 mt-1",children:"Incluye cargo por delivery: $500"})]})]}),D.jsxs("div",{className:"flex justify-between mt-8",children:[D.jsx("button",{onClick:g,className:"px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2",disabled:l,children:"Atrás"}),D.jsx("button",{onClick:m,disabled:l,className:`px-6 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 focus:ring-offset-2 ${l?"opacity-50 cursor-not-allowed":""}`,children:l?"Enviando...":"Confirmar Pedido"})]})]})})},LC=()=>{const{currentStep:t}=ci(),e=[{number:1,label:"Datos",icon:tT},{number:2,label:"Tamaño",icon:By},{number:3,label:"Gustos",icon:eT},{number:4,label:"Confirmar",icon:Zw}];return D.jsx("div",{className:"w-full py-6",children:D.jsx("div",{className:"flex items-center justify-center",children:D.jsx("div",{className:"w-full max-w-3xl",children:D.jsx("div",{className:"flex items-center justify-between w-full",children:e.map((n,r)=>D.jsxs(r1.Fragment,{children:[D.jsxs("div",{className:"flex flex-col items-center",children:[D.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full transition-all duration-500 ${t>=n.number?"bg-pink-500 text-white":"bg-gray-200 text-gray-500"}`,children:D.jsx(n.icon,{className:"w-5 h-5"})}),D.jsx("span",{className:`mt-2 text-xs font-medium ${t>=n.number?"text-pink-600":"text-gray-500"}`,children:n.label})]}),r<e.length-1&&D.jsx("div",{className:`flex-1 h-1 mx-2 transition-all duration-500 ${t>n.number?"bg-pink-500":"bg-gray-200"}`})]},n.number))})})})})},MC=()=>{const{currentStep:t}=ci(),e=()=>{switch(t){case 1:return D.jsx(cp,{});case 2:return D.jsx(iT,{});case 3:return D.jsx(oT,{});case 4:return D.jsx(OC,{});default:return D.jsx(cp,{})}};return D.jsxs("div",{className:"max-w-4xl mx-auto",children:[D.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Pedido de Helado"}),D.jsx(LC,{}),D.jsx("div",{className:"mt-6 animate-fadeIn",children:e()})]})};function FC(){return D.jsx(Xw,{children:D.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[D.jsx(nT,{}),D.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:D.jsx(MC,{})}),D.jsx(rT,{})]})})}Iy(document.getElementById("root")).render(D.jsx(L.StrictMode,{children:D.jsx(jw,{children:D.jsx(FC,{})})}));
